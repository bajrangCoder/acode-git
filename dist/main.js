(()=>{var Yf=Object.create;var va=Object.defineProperty;var Kf=Object.getOwnPropertyDescriptor;var Vf=Object.getOwnPropertyNames;var Jf=Object.getPrototypeOf,Qf=Object.prototype.hasOwnProperty;var tl=(e,t)=>()=>(e&&(t=e(e=0)),t);var $=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var el=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Vf(t))!Qf.call(e,n)&&n!==r&&va(e,n,{get:()=>t[n],enumerable:!(i=Kf(t,n))||i.enumerable});return e};var xt=(e,t,r)=>(r=e!=null?Yf(Jf(e)):{},el(t||!e||!e.__esModule?va(r,"default",{value:e,enumerable:!0}):r,e));var ka=$(Sr=>{"use strict";T();Sr.byteLength=il;Sr.toByteArray=al;Sr.fromByteArray=cl;var Et=[],lt=[],rl=typeof Uint8Array<"u"?Uint8Array:Array,Ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ee=0,xa=Ti.length;ee<xa;++ee)Et[ee]=Ti[ee],lt[Ti.charCodeAt(ee)]=ee;var ee,xa;lt[45]=62;lt[95]=63;function Ea(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var i=r===t?0:4-r%4;return[r,i]}function il(e){var t=Ea(e),r=t[0],i=t[1];return(r+i)*3/4-i}function nl(e,t,r){return(t+r)*3/4-r}function al(e){var t,r=Ea(e),i=r[0],n=r[1],a=new rl(nl(e,i,n)),o=0,s=n>0?i-4:i,l;for(l=0;l<s;l+=4)t=lt[e.charCodeAt(l)]<<18|lt[e.charCodeAt(l+1)]<<12|lt[e.charCodeAt(l+2)]<<6|lt[e.charCodeAt(l+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return n===2&&(t=lt[e.charCodeAt(l)]<<2|lt[e.charCodeAt(l+1)]>>4,a[o++]=t&255),n===1&&(t=lt[e.charCodeAt(l)]<<10|lt[e.charCodeAt(l+1)]<<4|lt[e.charCodeAt(l+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function ol(e){return Et[e>>18&63]+Et[e>>12&63]+Et[e>>6&63]+Et[e&63]}function sl(e,t,r){for(var i,n=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),n.push(ol(i));return n.join("")}function cl(e){for(var t,r=e.length,i=r%3,n=[],a=16383,o=0,s=r-i;o<s;o+=a)n.push(sl(e,o,o+a>s?s:o+a));return i===1?(t=e[r-1],n.push(Et[t>>2]+Et[t<<4&63]+"==")):i===2&&(t=(e[r-2]<<8)+e[r-1],n.push(Et[t>>10]+Et[t>>4&63]+Et[t<<2&63]+"=")),n.join("")}});var Sa=$(Ai=>{T();Ai.read=function(e,t,r,i,n){var a,o,s=n*8-i-1,l=(1<<s)-1,c=l>>1,f=-7,u=r?n-1:0,h=r?-1:1,d=e[t+u];for(u+=h,a=d&(1<<-f)-1,d>>=-f,f+=s;f>0;a=a*256+e[t+u],u+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=i;f>0;o=o*256+e[t+u],u+=h,f-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(d?-1:1)*(1/0);o=o+Math.pow(2,i),a=a-c}return(d?-1:1)*o*Math.pow(2,a-i)};Ai.write=function(e,t,r,i,n,a){var o,s,l,c=a*8-n-1,f=(1<<c)-1,u=f>>1,h=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:a-1,g=i?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(o++,l/=2),o+u>=f?(s=0,o=f):o+u>=1?(s=(t*l-1)*Math.pow(2,n),o=o+u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;e[r+d]=s&255,d+=g,s/=256,n-=8);for(o=o<<n|s,c+=n;c>0;e[r+d]=o&255,d+=g,o/=256,c-=8);e[r+d-g]|=v*128}});var Ui=$(Se=>{"use strict";T();var Ri=ka(),Ee=Sa(),Ia=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Se.Buffer=x;Se.SlowBuffer=wl;Se.INSPECT_MAX_BYTES=50;var Ir=2147483647;Se.kMaxLength=Ir;x.TYPED_ARRAY_SUPPORT=fl();!x.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function fl(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}});Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});function Ct(e){if(e>Ir)throw new RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,x.prototype),t}function x(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Fi(e)}return Ba(e,t,r)}x.poolSize=8192;function Ba(e,t,r){if(typeof e=="string")return ul(e,t);if(ArrayBuffer.isView(e))return hl(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(kt(e,ArrayBuffer)||e&&kt(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(kt(e,SharedArrayBuffer)||e&&kt(e.buffer,SharedArrayBuffer)))return Oi(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=e.valueOf&&e.valueOf();if(i!=null&&i!==e)return x.from(i,t,r);let n=dl(e);if(n)return n;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return x.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}x.from=function(e,t,r){return Ba(e,t,r)};Object.setPrototypeOf(x.prototype,Uint8Array.prototype);Object.setPrototypeOf(x,Uint8Array);function Oa(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function ll(e,t,r){return Oa(e),e<=0?Ct(e):t!==void 0?typeof r=="string"?Ct(e).fill(t,r):Ct(e).fill(t):Ct(e)}x.alloc=function(e,t,r){return ll(e,t,r)};function Fi(e){return Oa(e),Ct(e<0?0:Di(e)|0)}x.allocUnsafe=function(e){return Fi(e)};x.allocUnsafeSlow=function(e){return Fi(e)};function ul(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!x.isEncoding(t))throw new TypeError("Unknown encoding: "+t);let r=$a(e,t)|0,i=Ct(r),n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}function Bi(e){let t=e.length<0?0:Di(e.length)|0,r=Ct(t);for(let i=0;i<t;i+=1)r[i]=e[i]&255;return r}function hl(e){if(kt(e,Uint8Array)){let t=new Uint8Array(e);return Oi(t.buffer,t.byteOffset,t.byteLength)}return Bi(e)}function Oi(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return t===void 0&&r===void 0?i=new Uint8Array(e):r===void 0?i=new Uint8Array(e,t):i=new Uint8Array(e,t,r),Object.setPrototypeOf(i,x.prototype),i}function dl(e){if(x.isBuffer(e)){let t=Di(e.length)|0,r=Ct(t);return r.length===0||e.copy(r,0,0,t),r}if(e.length!==void 0)return typeof e.length!="number"||Ni(e.length)?Ct(0):Bi(e);if(e.type==="Buffer"&&Array.isArray(e.data))return Bi(e.data)}function Di(e){if(e>=Ir)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ir.toString(16)+" bytes");return e|0}function wl(e){return+e!=e&&(e=0),x.alloc(+e)}x.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==x.prototype};x.compare=function(t,r){if(kt(t,Uint8Array)&&(t=x.from(t,t.offset,t.byteLength)),kt(r,Uint8Array)&&(r=x.from(r,r.offset,r.byteLength)),!x.isBuffer(t)||!x.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===r)return 0;let i=t.length,n=r.length;for(let a=0,o=Math.min(i,n);a<o;++a)if(t[a]!==r[a]){i=t[a],n=r[a];break}return i<n?-1:n<i?1:0};x.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};x.concat=function(t,r){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return x.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<t.length;++i)r+=t[i].length;let n=x.allocUnsafe(r),a=0;for(i=0;i<t.length;++i){let o=t[i];if(kt(o,Uint8Array))a+o.length>n.length?(x.isBuffer(o)||(o=x.from(o)),o.copy(n,a)):Uint8Array.prototype.set.call(n,o,a);else if(x.isBuffer(o))o.copy(n,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return n};function $a(e,t){if(x.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||kt(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $i(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ja(e).length;default:if(n)return i?-1:$i(e).length;t=(""+t).toLowerCase(),n=!0}}x.byteLength=$a;function pl(e,t,r){let i=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,t>>>=0,r<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return Sl(this,t,r);case"utf8":case"utf-8":return Da(this,t,r);case"ascii":return El(this,t,r);case"latin1":case"binary":return kl(this,t,r);case"base64":return vl(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Il(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}x.prototype._isBuffer=!0;function re(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}x.prototype.swap16=function(){let t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)re(this,r,r+1);return this};x.prototype.swap32=function(){let t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)re(this,r,r+3),re(this,r+1,r+2);return this};x.prototype.swap64=function(){let t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)re(this,r,r+7),re(this,r+1,r+6),re(this,r+2,r+5),re(this,r+3,r+4);return this};x.prototype.toString=function(){let t=this.length;return t===0?"":arguments.length===0?Da(this,0,t):pl.apply(this,arguments)};x.prototype.toLocaleString=x.prototype.toString;x.prototype.equals=function(t){if(!x.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:x.compare(this,t)===0};x.prototype.inspect=function(){let t="",r=Se.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"};Ia&&(x.prototype[Ia]=x.prototype.inspect);x.prototype.compare=function(t,r,i,n,a){if(kt(t,Uint8Array)&&(t=x.from(t,t.offset,t.byteLength)),!x.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(r===void 0&&(r=0),i===void 0&&(i=t?t.length:0),n===void 0&&(n=0),a===void 0&&(a=this.length),r<0||i>t.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&r>=i)return 0;if(n>=a)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,n>>>=0,a>>>=0,this===t)return 0;let o=a-n,s=i-r,l=Math.min(o,s),c=this.slice(n,a),f=t.slice(r,i);for(let u=0;u<l;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0};function Fa(e,t,r,i,n){if(e.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ni(r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0)if(n)r=0;else return-1;if(typeof t=="string"&&(t=x.from(t,i)),x.isBuffer(t))return t.length===0?-1:Ta(e,t,r,i,n);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):Ta(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function Ta(e,t,r,i,n){let a=1,o=e.length,s=t.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(e.length<2||t.length<2)return-1;a=2,o/=2,s/=2,r/=2}function l(f,u){return a===1?f[u]:f.readUInt16BE(u*a)}let c;if(n){let f=-1;for(c=r;c<o;c++)if(l(e,c)===l(t,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===s)return f*a}else f!==-1&&(c-=c-f),f=-1}else for(r+s>o&&(r=o-s),c=r;c>=0;c--){let f=!0;for(let u=0;u<s;u++)if(l(e,c+u)!==l(t,u)){f=!1;break}if(f)return c}return-1}x.prototype.includes=function(t,r,i){return this.indexOf(t,r,i)!==-1};x.prototype.indexOf=function(t,r,i){return Fa(this,t,r,i,!0)};x.prototype.lastIndexOf=function(t,r,i){return Fa(this,t,r,i,!1)};function ml(e,t,r,i){r=Number(r)||0;let n=e.length-r;i?(i=Number(i),i>n&&(i=n)):i=n;let a=t.length;i>a/2&&(i=a/2);let o;for(o=0;o<i;++o){let s=parseInt(t.substr(o*2,2),16);if(Ni(s))return o;e[r+o]=s}return o}function _l(e,t,r,i){return Tr($i(t,e.length-r),e,r,i)}function gl(e,t,r,i){return Tr(Bl(t),e,r,i)}function yl(e,t,r,i){return Tr(ja(t),e,r,i)}function bl(e,t,r,i){return Tr(Ol(t,e.length-r),e,r,i)}x.prototype.write=function(t,r,i,n){if(r===void 0)n="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")n=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((i===void 0||i>a)&&(i=a),t.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return ml(this,t,r,i);case"utf8":case"utf-8":return _l(this,t,r,i);case"ascii":case"latin1":case"binary":return gl(this,t,r,i);case"base64":return yl(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return bl(this,t,r,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function vl(e,t,r){return t===0&&r===e.length?Ri.fromByteArray(e):Ri.fromByteArray(e.slice(t,r))}function Da(e,t,r){r=Math.min(e.length,r);let i=[],n=t;for(;n<r;){let a=e[n],o=null,s=a>239?4:a>223?3:a>191?2:1;if(n+s<=r){let l,c,f,u;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[n+1],(l&192)===128&&(u=(a&31)<<6|l&63,u>127&&(o=u));break;case 3:l=e[n+1],c=e[n+2],(l&192)===128&&(c&192)===128&&(u=(a&15)<<12|(l&63)<<6|c&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:l=e[n+1],c=e[n+2],f=e[n+3],(l&192)===128&&(c&192)===128&&(f&192)===128&&(u=(a&15)<<18|(l&63)<<12|(c&63)<<6|f&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=s}return xl(i)}var Aa=4096;function xl(e){let t=e.length;if(t<=Aa)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=Aa));return r}function El(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]&127);return i}function kl(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function Sl(e,t,r){let i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let a=t;a<r;++a)n+=$l[e[a]];return n}function Il(e,t,r){let i=e.slice(t,r),n="";for(let a=0;a<i.length-1;a+=2)n+=String.fromCharCode(i[a]+i[a+1]*256);return n}x.prototype.slice=function(t,r){let i=this.length;t=~~t,r=r===void 0?i:~~r,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<t&&(r=t);let n=this.subarray(t,r);return Object.setPrototypeOf(n,x.prototype),n};function G(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||G(t,r,this.length);let n=this[t],a=1,o=0;for(;++o<r&&(a*=256);)n+=this[t+o]*a;return n};x.prototype.readUintBE=x.prototype.readUIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||G(t,r,this.length);let n=this[t+--r],a=1;for(;r>0&&(a*=256);)n+=this[t+--r]*a;return n};x.prototype.readUint8=x.prototype.readUInt8=function(t,r){return t=t>>>0,r||G(t,1,this.length),this[t]};x.prototype.readUint16LE=x.prototype.readUInt16LE=function(t,r){return t=t>>>0,r||G(t,2,this.length),this[t]|this[t+1]<<8};x.prototype.readUint16BE=x.prototype.readUInt16BE=function(t,r){return t=t>>>0,r||G(t,2,this.length),this[t]<<8|this[t+1]};x.prototype.readUint32LE=x.prototype.readUInt32LE=function(t,r){return t=t>>>0,r||G(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};x.prototype.readUint32BE=x.prototype.readUInt32BE=function(t,r){return t=t>>>0,r||G(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};x.prototype.readBigUInt64LE=qt(function(t){t=t>>>0,ke(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&Ge(t,this.length-8);let n=r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,a=this[++t]+this[++t]*2**8+this[++t]*2**16+i*2**24;return BigInt(n)+(BigInt(a)<<BigInt(32))});x.prototype.readBigUInt64BE=qt(function(t){t=t>>>0,ke(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&Ge(t,this.length-8);let n=r*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],a=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(a)});x.prototype.readIntLE=function(t,r,i){t=t>>>0,r=r>>>0,i||G(t,r,this.length);let n=this[t],a=1,o=0;for(;++o<r&&(a*=256);)n+=this[t+o]*a;return a*=128,n>=a&&(n-=Math.pow(2,8*r)),n};x.prototype.readIntBE=function(t,r,i){t=t>>>0,r=r>>>0,i||G(t,r,this.length);let n=r,a=1,o=this[t+--n];for(;n>0&&(a*=256);)o+=this[t+--n]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o};x.prototype.readInt8=function(t,r){return t=t>>>0,r||G(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};x.prototype.readInt16LE=function(t,r){t=t>>>0,r||G(t,2,this.length);let i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i};x.prototype.readInt16BE=function(t,r){t=t>>>0,r||G(t,2,this.length);let i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i};x.prototype.readInt32LE=function(t,r){return t=t>>>0,r||G(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};x.prototype.readInt32BE=function(t,r){return t=t>>>0,r||G(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};x.prototype.readBigInt64LE=qt(function(t){t=t>>>0,ke(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&Ge(t,this.length-8);let n=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(r+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)});x.prototype.readBigInt64BE=qt(function(t){t=t>>>0,ke(t,"offset");let r=this[t],i=this[t+7];(r===void 0||i===void 0)&&Ge(t,this.length-8);let n=(r<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i)});x.prototype.readFloatLE=function(t,r){return t=t>>>0,r||G(t,4,this.length),Ee.read(this,t,!0,23,4)};x.prototype.readFloatBE=function(t,r){return t=t>>>0,r||G(t,4,this.length),Ee.read(this,t,!1,23,4)};x.prototype.readDoubleLE=function(t,r){return t=t>>>0,r||G(t,8,this.length),Ee.read(this,t,!0,52,8)};x.prototype.readDoubleBE=function(t,r){return t=t>>>0,r||G(t,8,this.length),Ee.read(this,t,!1,52,8)};function et(e,t,r,i,n,a){if(!x.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(t,r,i,n){if(t=+t,r=r>>>0,i=i>>>0,!n){let s=Math.pow(2,8*i)-1;et(this,t,r,i,s,0)}let a=1,o=0;for(this[r]=t&255;++o<i&&(a*=256);)this[r+o]=t/a&255;return r+i};x.prototype.writeUintBE=x.prototype.writeUIntBE=function(t,r,i,n){if(t=+t,r=r>>>0,i=i>>>0,!n){let s=Math.pow(2,8*i)-1;et(this,t,r,i,s,0)}let a=i-1,o=1;for(this[r+a]=t&255;--a>=0&&(o*=256);)this[r+a]=t/o&255;return r+i};x.prototype.writeUint8=x.prototype.writeUInt8=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,1,255,0),this[r]=t&255,r+1};x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,2,65535,0),this[r]=t&255,this[r+1]=t>>>8,r+2};x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,2,65535,0),this[r]=t>>>8,this[r+1]=t&255,r+2};x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,4,4294967295,0),this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=t&255,r+4};x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,4,4294967295,0),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};function Ca(e,t,r,i,n){za(t,i,n,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a,a=a>>8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,o=o>>8,e[r++]=o,r}function Na(e,t,r,i,n){za(t,i,n,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a=a>>8,e[r+6]=a,a=a>>8,e[r+5]=a,a=a>>8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o=o>>8,e[r+2]=o,o=o>>8,e[r+1]=o,o=o>>8,e[r]=o,r+8}x.prototype.writeBigUInt64LE=qt(function(t,r=0){return Ca(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});x.prototype.writeBigUInt64BE=qt(function(t,r=0){return Na(this,t,r,BigInt(0),BigInt("0xffffffffffffffff"))});x.prototype.writeIntLE=function(t,r,i,n){if(t=+t,r=r>>>0,!n){let l=Math.pow(2,8*i-1);et(this,t,r,i,l-1,-l)}let a=0,o=1,s=0;for(this[r]=t&255;++a<i&&(o*=256);)t<0&&s===0&&this[r+a-1]!==0&&(s=1),this[r+a]=(t/o>>0)-s&255;return r+i};x.prototype.writeIntBE=function(t,r,i,n){if(t=+t,r=r>>>0,!n){let l=Math.pow(2,8*i-1);et(this,t,r,i,l-1,-l)}let a=i-1,o=1,s=0;for(this[r+a]=t&255;--a>=0&&(o*=256);)t<0&&s===0&&this[r+a+1]!==0&&(s=1),this[r+a]=(t/o>>0)-s&255;return r+i};x.prototype.writeInt8=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,1,127,-128),t<0&&(t=255+t+1),this[r]=t&255,r+1};x.prototype.writeInt16LE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,2,32767,-32768),this[r]=t&255,this[r+1]=t>>>8,r+2};x.prototype.writeInt16BE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,2,32767,-32768),this[r]=t>>>8,this[r+1]=t&255,r+2};x.prototype.writeInt32LE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,4,2147483647,-2147483648),this[r]=t&255,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24,r+4};x.prototype.writeInt32BE=function(t,r,i){return t=+t,r=r>>>0,i||et(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=t&255,r+4};x.prototype.writeBigInt64LE=qt(function(t,r=0){return Ca(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});x.prototype.writeBigInt64BE=qt(function(t,r=0){return Na(this,t,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ua(e,t,r,i,n,a){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Pa(e,t,r,i,n){return t=+t,r=r>>>0,n||Ua(e,t,r,4,34028234663852886e22,-34028234663852886e22),Ee.write(e,t,r,i,23,4),r+4}x.prototype.writeFloatLE=function(t,r,i){return Pa(this,t,r,!0,i)};x.prototype.writeFloatBE=function(t,r,i){return Pa(this,t,r,!1,i)};function Ma(e,t,r,i,n){return t=+t,r=r>>>0,n||Ua(e,t,r,8,17976931348623157e292,-17976931348623157e292),Ee.write(e,t,r,i,52,8),r+8}x.prototype.writeDoubleLE=function(t,r,i){return Ma(this,t,r,!0,i)};x.prototype.writeDoubleBE=function(t,r,i){return Ma(this,t,r,!1,i)};x.prototype.copy=function(t,r,i,n){if(!x.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<i&&(n=i),n===i||t.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-i&&(n=t.length-r+i);let a=n-i;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,n):Uint8Array.prototype.set.call(t,this.subarray(i,n),r),a};x.prototype.fill=function(t,r,i,n){if(typeof t=="string"){if(typeof r=="string"?(n=r,r=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!x.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){let o=t.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(t=o)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);let a;if(typeof t=="number")for(a=r;a<i;++a)this[a]=t;else{let o=x.isBuffer(t)?t:x.from(t,n),s=o.length;if(s===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(a=0;a<i-r;++a)this[a+r]=o[a%s]}return this};var xe={};function Ci(e,t,r){xe[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}Ci("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Ci("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError);Ci("ERR_OUT_OF_RANGE",function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Ra(String(r)):typeof r=="bigint"&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=Ra(n)),n+="n"),i+=` It must be ${t}. Received ${n}`,i},RangeError);function Ra(e){let t="",r=e.length,i=e[0]==="-"?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Tl(e,t,r){ke(t,"offset"),(e[t]===void 0||e[t+r]===void 0)&&Ge(t,e.length-(r+1))}function za(e,t,r,i,n,a){if(e>r||e<t){let o=typeof t=="bigint"?"n":"",s;throw a>3?t===0||t===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${t}${o} and <= ${r}${o}`,new xe.ERR_OUT_OF_RANGE("value",s,e)}Tl(i,n,a)}function ke(e,t){if(typeof e!="number")throw new xe.ERR_INVALID_ARG_TYPE(t,"number",e)}function Ge(e,t,r){throw Math.floor(e)!==e?(ke(e,r),new xe.ERR_OUT_OF_RANGE(r||"offset","an integer",e)):t<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}var Al=/[^+/0-9A-Za-z-_]/g;function Rl(e){if(e=e.split("=")[0],e=e.trim().replace(Al,""),e.length<2)return"";for(;e.length%4!==0;)e=e+"=";return e}function $i(e,t){t=t||1/0;let r,i=e.length,n=null,a=[];for(let o=0;o<i;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(o+1===i){(t-=3)>-1&&a.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),n=r;continue}r=(n-55296<<10|r-56320)+65536}else n&&(t-=3)>-1&&a.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function Bl(e){let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r)&255);return t}function Ol(e,t){let r,i,n,a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),i=r>>8,n=r%256,a.push(n),a.push(i);return a}function ja(e){return Ri.toByteArray(Rl(e))}function Tr(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function kt(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Ni(e){return e!==e}var $l=function(){let e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){let i=r*16;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function qt(e){return typeof BigInt>"u"?Fl:e}function Fl(){throw new Error("BigInt not supported")}});var I,T=tl(()=>{I=xt(Ui())});var Ha=$((Pw,La)=>{T();La.exports=Cl;function Cl(e){var t,r;if(typeof e!="function")throw new Error("expected a function but got "+e);return function(){return t||(t=!0,r=e.apply(this,arguments)),r}}});var Za=$(qa=>{T();(function(e){"use strict";function t(p,m){var k;return p instanceof I.Buffer?k=p:k=I.Buffer.from(p.buffer,p.byteOffset,p.byteLength),k.toString(m)}var r=function(p){return I.Buffer.from(p)};function i(p){for(var m=0,k=Math.min(256*256,p.length+1),E=new Uint16Array(k),_=[],A=0;;){var w=m<p.length;if(!w||A>=k-1){var R=E.subarray(0,A),b=R;if(_.push(String.fromCharCode.apply(null,b)),!w)return _.join("");p=p.subarray(m),m=0,A=0}var B=p[m++];if(!(B&128))E[A++]=B;else if((B&224)===192){var S=p[m++]&63;E[A++]=(B&31)<<6|S}else if((B&240)===224){var S=p[m++]&63,O=p[m++]&63;E[A++]=(B&31)<<12|S<<6|O}else if((B&248)===240){var S=p[m++]&63,O=p[m++]&63,F=p[m++]&63,P=(B&7)<<18|S<<12|O<<6|F;P>65535&&(P-=65536,E[A++]=P>>>10&1023|55296,P=56320|P&1023),E[A++]=P}}}function n(p){for(var m=0,k=p.length,E=0,_=Math.max(32,k+(k>>>1)+7),A=new Uint8Array(_>>>3<<3);m<k;){var w=p.charCodeAt(m++);if(w>=55296&&w<=56319){if(m<k){var R=p.charCodeAt(m);(R&64512)===56320&&(++m,w=((w&1023)<<10)+(R&1023)+65536)}if(w>=55296&&w<=56319)continue}if(E+4>A.length){_+=8,_*=1+m/p.length*2,_=_>>>3<<3;var b=new Uint8Array(_);b.set(A),A=b}if(w&4294967168)if(!(w&4294965248))A[E++]=w>>>6&31|192;else if(!(w&4294901760))A[E++]=w>>>12&15|224,A[E++]=w>>>6&63|128;else if(!(w&4292870144))A[E++]=w>>>18&7|240,A[E++]=w>>>12&63|128,A[E++]=w>>>6&63|128;else continue;else{A[E++]=w;continue}A[E++]=w&63|128}return A.slice?A.slice(0,E):A.subarray(0,E)}var a="Failed to ",o=function(p,m,k){if(p)throw new Error("".concat(a).concat(m,": the '").concat(k,"' option is unsupported."))},s=typeof I.Buffer=="function"&&I.Buffer.from,l=s?r:n;function c(){this.encoding="utf-8"}c.prototype.encode=function(p,m){return o(m&&m.stream,"encode","stream"),l(p)};function f(p){var m;try{var k=new Blob([p],{type:"text/plain;charset=UTF-8"});m=URL.createObjectURL(k);var E=new XMLHttpRequest;return E.open("GET",m,!1),E.send(),E.responseText}finally{m&&URL.revokeObjectURL(m)}}var u=!s&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",h=["utf-8","utf8","unicode-1-1-utf-8"],d=i;s?d=t:u&&(d=function(p){try{return f(p)}catch{return i(p)}});var g="construct 'TextDecoder'",v="".concat(a," ").concat(g,": the ");function y(p,m){o(m&&m.fatal,g,"fatal"),p=p||"utf-8";var k;if(s?k=I.Buffer.isEncoding(p):k=h.indexOf(p.toLowerCase())!==-1,!k)throw new RangeError("".concat(v," encoding label provided ('").concat(p,"') is invalid."));this.encoding=p,this.fatal=!1,this.ignoreBOM=!1}y.prototype.decode=function(p,m){o(m&&m.stream,"decode","stream");var k;return p instanceof Uint8Array?k=p:p.buffer instanceof ArrayBuffer?k=new Uint8Array(p.buffer):k=new Uint8Array(p),d(k,this.encoding)},e.TextEncoder=e.TextEncoder||c,e.TextDecoder=e.TextDecoder||y})(typeof window<"u"?window:typeof global<"u"?global:qa)});var Wa=$((Lw,Ga)=>{T();Za();Ga.exports={encode:e=>new TextEncoder().encode(e),decode:e=>new TextDecoder().decode(e)}});var Ya=$((qw,Xa)=>{T();Xa.exports=Nl;function Nl(e,t,r){var i;return function(){if(!t)return e.apply(this,arguments);var n=this,a=arguments,o=r&&!i;if(clearTimeout(i),i=setTimeout(function(){if(i=null,!o)return e.apply(n,a)},t),o)return e.apply(this,arguments)}}});var Ar=$((Gw,Ja)=>{T();function Ka(e){if(e.length===0)return".";let t=Va(e);return t=t.reduce(zl,[]),Mi(...t)}function Ul(...e){let t="";for(let r of e)r.startsWith("/")?t=r:t=Ka(Mi(t,r));return t}function Mi(...e){if(e.length===0)return"";let t=e.join("/");return t=t.replace(/\/{2,}/g,"/"),t}function Va(e){if(e.length===0)return[];if(e==="/")return["/"];let t=e.split("/");return t[t.length-1]===""&&t.pop(),e[0]==="/"?t[0]="/":t[0]!=="."&&t.unshift("."),t}function Pl(e){let t=e.lastIndexOf("/");if(t===-1)throw new Error(`Cannot get dirname of "${e}"`);return t===0?"/":e.slice(0,t)}function Ml(e){if(e==="/")throw new Error(`Cannot get basename of "${e}"`);let t=e.lastIndexOf("/");return t===-1?e:e.slice(t+1)}function zl(e,t){if(e.length===0)return e.push(t),e;if(t===".")return e;if(t===".."){if(e.length===1){if(e[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(e[0]===".")return e.push(t),e}return e[e.length-1]===".."?(e.push(".."),e):(e.pop(),e)}return e.push(t),e}Ja.exports={join:Mi,normalize:Ka,split:Va,basename:Ml,dirname:Pl,resolve:Ul}});var zi=$((Xw,Qa)=>{T();function We(e){return class extends Error{constructor(...t){super(...t),this.code=e,this.message?this.message=e+": "+this.message:this.message=e}}}var jl=We("EEXIST"),Ll=We("ENOENT"),Hl=We("ENOTDIR"),ql=We("ENOTEMPTY"),Zl=We("ETIMEDOUT");Qa.exports={EEXIST:jl,ENOENT:Ll,ENOTDIR:Hl,ENOTEMPTY:ql,ETIMEDOUT:Zl}});var io=$((Jw,ro)=>{T();var J=Ar(),{EEXIST:to,ENOENT:Gl,ENOTDIR:eo,ENOTEMPTY:Wl}=zi(),V=0;ro.exports=class{constructor(){}_makeRoot(t=new Map){return t.set(V,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){t===null?this._root=new Map([["/",this._makeRoot()]]):typeof t=="string"?this._root=new Map([["/",this._makeRoot(this.parse(t))]]):this._root=t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let r=1;for(let[i,n]of t)i!==V&&(r+=this._countInodes(n));return r}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(t){let r=t.get(V).ino;for(let[i,n]of t)i!==V&&(r=Math.max(r,this._maxInode(n)));return r}print(t=this._root.get("/")){let r="",i=(n,a)=>{for(let[o,s]of n){if(o===0)continue;let l=s.get(V),c=l.mode.toString(8);r+=`${"	".repeat(a)}${o}	${c}`,l.type==="file"?r+=`	${l.size}	${l.mtimeMs}
`:(r+=`
`,i(s,a+1))}};return i(t,0),r}parse(t){let r=0;function i(s){let l=++r,c=s.length===1?"dir":"file",[f,u,h]=s;return f=parseInt(f,8),u=u?parseInt(u):0,h=h?parseInt(h):Date.now(),new Map([[V,{mode:f,type:c,size:u,mtimeMs:h,ino:l}]])}let n=t.trim().split(`
`),a=this._makeRoot(),o=[{indent:-1,node:a},{indent:0,node:null}];for(let s of n){let c=s.match(/^\t*/)[0].length;s=s.slice(c);let[f,...u]=s.split("	"),h=i(u);if(c<=o[o.length-1].indent)for(;c<=o[o.length-1].indent;)o.pop();o.push({indent:c,node:h}),o[o.length-2].node.set(f,h)}return a}_lookup(t,r=!0){let i=this._root,n="/",a=J.split(t);for(let o=0;o<a.length;++o){let s=a[o];if(i=i.get(s),!i)throw new Gl(t);if(r||o<a.length-1){let l=i.get(V);if(l.type==="symlink"){let c=J.resolve(n,l.target);i=this._lookup(c)}n?n=J.join(n,s):n=s}}return i}mkdir(t,{mode:r}){if(t==="/")throw new to;let i=this._lookup(J.dirname(t)),n=J.basename(t);if(i.has(n))throw new to;let a=new Map,o={mode:r,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};a.set(V,o),i.set(n,a)}rmdir(t){let r=this._lookup(t);if(r.get(V).type!=="dir")throw new eo;if(r.size>1)throw new Wl;let i=this._lookup(J.dirname(t)),n=J.basename(t);i.delete(n)}readdir(t){let r=this._lookup(t);if(r.get(V).type!=="dir")throw new eo;return[...r.keys()].filter(i=>typeof i=="string")}writeStat(t,r,{mode:i}){let n;try{let c=this.stat(t);i==null&&(i=c.mode),n=c.ino}catch{}i==null&&(i=438),n==null&&(n=this.autoinc());let a=this._lookup(J.dirname(t)),o=J.basename(t),s={mode:i,type:"file",size:r,mtimeMs:Date.now(),ino:n},l=new Map;return l.set(V,s),a.set(o,l),s}unlink(t){let r=this._lookup(J.dirname(t)),i=J.basename(t);r.delete(i)}rename(t,r){let i=J.basename(r),n=this._lookup(t);this._lookup(J.dirname(r)).set(i,n),this.unlink(t)}stat(t){return this._lookup(t).get(V)}lstat(t){return this._lookup(t,!1).get(V)}readlink(t){return this._lookup(t,!1).get(V).target}symlink(t,r){let i,n;try{let c=this.stat(r);n===null&&(n=c.mode),i=c.ino}catch{}n==null&&(n=40960),i==null&&(i=this.autoinc());let a=this._lookup(J.dirname(r)),o=J.basename(r),s={mode:n,type:"symlink",target:t,size:0,mtimeMs:Date.now(),ino:i},l=new Map;return l.set(V,s),a.set(o,l),s}_du(t){let r=0;for(let[i,n]of t.entries())i===V?r+=n.size:r+=this._du(n);return r}du(t){let r=this._lookup(t);return this._du(r)}}});var Li=$(St=>{"use strict";T();Object.defineProperty(St,"__esModule",{value:!0});var Rr=class{constructor(t="keyval-store",r="keyval"){this.storeName=r,this._dbName=t,this._storeName=r,this._init()}_init(){this._dbp||(this._dbp=new Promise((t,r)=>{let i=indexedDB.open(this._dbName);i.onerror=()=>r(i.error),i.onsuccess=()=>t(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(this._storeName)}}))}_withIDBStore(t,r){return this._init(),this._dbp.then(i=>new Promise((n,a)=>{let o=i.transaction(this.storeName,t);o.oncomplete=()=>n(),o.onabort=o.onerror=()=>a(o.error),r(o.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(t=>{t.close(),this._dbp=void 0})}},ji;function ie(){return ji||(ji=new Rr),ji}function Xl(e,t=ie()){let r;return t._withIDBStore("readwrite",i=>{r=i.get(e)}).then(()=>r.result)}function Yl(e,t,r=ie()){return r._withIDBStore("readwrite",i=>{i.put(t,e)})}function Kl(e,t,r=ie()){return r._withIDBStore("readwrite",i=>{let n=i.get(e);n.onsuccess=()=>{i.put(t(n.result),e)}})}function Vl(e,t=ie()){return t._withIDBStore("readwrite",r=>{r.delete(e)})}function Jl(e=ie()){return e._withIDBStore("readwrite",t=>{t.clear()})}function Ql(e=ie()){let t=[];return e._withIDBStore("readwrite",r=>{(r.openKeyCursor||r.openCursor).call(r).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function tu(e=ie()){return e._close()}St.Store=Rr;St.get=Xl;St.set=Yl;St.update=Kl;St.del=Vl;St.clear=Jl;St.keys=Ql;St.close=tu});var ao=$((ip,no)=>{T();var Zt=Li();no.exports=class{constructor(t,r){this._database=t,this._storename=r,this._store=new Zt.Store(this._database,this._storename)}saveSuperblock(t){return Zt.set("!root",t,this._store)}loadSuperblock(){return Zt.get("!root",this._store)}readFile(t){return Zt.get(t,this._store)}writeFile(t,r){return Zt.set(t,r,this._store)}unlink(t){return Zt.del(t,this._store)}wipe(){return Zt.clear(this._store)}close(){return Zt.close(this._store)}}});var so=$((op,oo)=>{T();oo.exports=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){let r=await fetch(this._url+t);if(r.status===200)return r.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){let r=await fetch(this._url+t,{method:"HEAD"});if(r.status===200)return r.headers.get("content-length");throw new Error("ENOENT")}}});var fo=$((fp,co)=>{T();var Xe=Li(),eu=e=>new Promise(t=>setTimeout(t,e));co.exports=class{constructor(t,r){this._id=Math.random(),this._database=t,this._storename=r,this._store=new Xe.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){let r=Date.now();return this._lock.expires>r+t?!0:await this.renew()}else return!1}async renew({ttl:t=5e3}={}){let r;return await Xe.update("lock",i=>{let a=Date.now()+t;return r=i&&i.holder===this._id,this._lock=r?{holder:this._id,expires:a}:i,this._lock},this._store),r}async acquire({ttl:t=5e3}={}){let r,i,n;if(await Xe.update("lock",a=>{let o=Date.now(),s=o+t;return i=a&&a.expires<o,r=a===void 0||i,n=a&&a.holder===this._id,this._lock=r?{holder:this._id,expires:s}:a,this._lock},this._store),n)throw new Error("Mutex double-locked");return r}async wait({interval:t=100,limit:r=6e3,ttl:i}={}){for(;r--;){if(await this.acquire({ttl:i}))return!0;await eu(t)}throw new Error("Mutex timeout")}async release({force:t=!1}={}){let r,i,n;if(await Xe.update("lock",a=>(r=t||a&&a.holder===this._id,i=a===void 0,n=a&&a.holder!==this._id,this._lock=r?void 0:a,this._lock),this._store),await Xe.close(this._store),!r&&!t){if(i)throw new Error("Mutex double-freed");if(n)throw new Error("Mutex lost ownership")}return r}}});var uo=$((hp,lo)=>{T();lo.exports=class{constructor(t){this._id=Math.random(),this._database=t,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(t=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},r=>(this._has=!!r,t(!!r),new Promise(i=>{this._release=i})))})}async wait({timeout:t=6e5}={}){return new Promise((r,i)=>{let n=new AbortController;setTimeout(()=>{n.abort(),i(new Error("Mutex timeout"))},t),navigator.locks.request(this._database+"_lock",{signal:n.signal},a=>(this._has=!!a,r(!!a),new Promise(o=>{this._release=o})))})}async release({force:t=!1}={}){this._has=!1,this._release?this._release():t&&navigator.locks.request(this._database+"_lock",{steal:!0},r=>!0)}}});var po=$((pp,wo)=>{T();var{encode:ru,decode:ho}=Wa(),iu=Ya(),nu=io(),{ENOENT:au,ENOTEMPTY:ou,ETIMEDOUT:su}=zi(),cu=ao(),fu=so(),lu=fo(),uu=uo(),Ye=Ar();wo.exports=class{constructor(){this.saveSuperblock=iu(()=>{this.flush()},500)}async init(t,{wipe:r,url:i,urlauto:n,fileDbName:a=t,db:o=null,fileStoreName:s=t+"_files",lockDbName:l=t+"_lock",lockStoreName:c=t+"_lock"}={}){this._name=t,this._idb=o||new cu(a,s),this._mutex=navigator.locks?new uu(t):new lu(l,c),this._cache=new nu(t),this._opts={wipe:r,url:i},this._needsWipe=!!r,i&&(this._http=new fu(i),this._urlauto=!!n)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();let t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){let r=await this._http.loadSuperblock();this._cache.activate(r),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new su}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(t,r,i){let n=Ye.split(Ye.dirname(t)),a=n.shift();for(let o of n){a=Ye.join(a,o);try{this._cache.mkdir(a,{mode:511})}catch{}}return this._cache.writeStat(t,r,i)}async readFile(t,r){let{encoding:i}=r;if(i&&i!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let n=null,a=null;try{a=this._cache.stat(t),n=await this._idb.readFile(a.ino)}catch(o){if(!this._urlauto)throw o}if(!n&&this._http){let o=this._cache.lstat(t);for(;o.type==="symlink";)t=Ye.resolve(Ye.dirname(t),o.target),o=this._cache.lstat(t);n=await this._http.readFile(t)}if(n&&((!a||a.size!=n.byteLength)&&(a=await this._writeStat(t,n.byteLength,{mode:a?a.mode:438}),this.saveSuperblock()),i==="utf8"?n=ho(n):n.toString=()=>ho(n)),!a)throw new au(t);return n}async writeFile(t,r,i){let{mode:n,encoding:a="utf8"}=i;if(typeof r=="string"){if(a!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');r=ru(r)}let o=await this._cache.writeStat(t,r.byteLength,{mode:n});await this._idb.writeFile(o.ino,r)}async unlink(t,r){let i=this._cache.lstat(t);this._cache.unlink(t),i.type!=="symlink"&&await this._idb.unlink(i.ino)}readdir(t,r){return this._cache.readdir(t)}mkdir(t,r){let{mode:i=511}=r;this._cache.mkdir(t,{mode:i})}rmdir(t,r){if(t==="/")throw new ou;this._cache.rmdir(t)}rename(t,r){this._cache.rename(t,r)}stat(t,r){return this._cache.stat(t)}lstat(t,r){return this._cache.lstat(t)}readlink(t,r){return this._cache.readlink(t)}symlink(t,r){this._cache.symlink(t,r)}async backFile(t,r){let i=await this._http.sizeFile(t);await this._writeStat(t,i,r)}du(t){return this._cache.du(t)}flush(){return this._saveSuperblock()}}});var _o=$((gp,mo)=>{T();mo.exports=class{constructor(t){this.type=t.type,this.mode=t.mode,this.size=t.size,this.ino=t.ino,this.mtimeMs=t.mtimeMs,this.ctimeMs=t.ctimeMs||t.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}}});var vo=$((xp,bo)=>{T();var hu=po(),go=_o(),bp=Ar();function It(e,t,...r){return[e,t,...r]}function du(e,t,r,...i){return[e,t,r,...i]}function yo(e,t,...r){return[e,t,...r]}bo.exports=class{constructor(t,r={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,It,!1),this.writeFile=this._wrap(this.writeFile,du,!0),this.unlink=this._wrap(this.unlink,It,!0),this.readdir=this._wrap(this.readdir,It,!1),this.mkdir=this._wrap(this.mkdir,It,!0),this.rmdir=this._wrap(this.rmdir,It,!0),this.rename=this._wrap(this.rename,yo,!0),this.stat=this._wrap(this.stat,It,!1),this.lstat=this._wrap(this.lstat,It,!1),this.readlink=this._wrap(this.readlink,It,!1),this.symlink=this._wrap(this.symlink,yo,!0),this.backFile=this._wrap(this.backFile,It,!0),this.du=this._wrap(this.du,It,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,r)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,r={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=r.backend||new hu,this._backend.init&&await this._backend.init(t,r),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),r.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,r,i){return async(...n)=>{n=r(...n);let a={name:t.name,args:n};this._operations.add(a);try{return await this._activate(),await t.apply(this,n)}finally{this._operations.delete(a),i&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(t,r){return this._backend.readFile(t,r)}async writeFile(t,r,i){return await this._backend.writeFile(t,r,i),null}async unlink(t,r){return await this._backend.unlink(t,r),null}async readdir(t,r){return this._backend.readdir(t,r)}async mkdir(t,r){return await this._backend.mkdir(t,r),null}async rmdir(t,r){return await this._backend.rmdir(t,r),null}async rename(t,r){return await this._backend.rename(t,r),null}async stat(t,r){let i=await this._backend.stat(t,r);return new go(i)}async lstat(t,r){let i=await this._backend.lstat(t,r);return new go(i)}async readlink(t,r){return this._backend.readlink(t,r)}async symlink(t,r){return await this._backend.symlink(t,r),null}async backFile(t,r){return await this._backend.backFile(t,r),null}async du(t){return this._backend.du(t)}async flush(){return this._backend.flush()}}});var Eo=$((Sp,xo)=>{T();var wu=Ha(),pu=vo();function rt(e,t){return typeof e=="function"&&(t=e),t=wu(t),[(...i)=>t(null,...i),t]}xo.exports=class{constructor(...t){this.promises=new pu(...t),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(t,r){return this.promises.init(t,r)}readFile(t,r,i){let[n,a]=rt(r,i);this.promises.readFile(t,r).then(n).catch(a)}writeFile(t,r,i,n){let[a,o]=rt(i,n);this.promises.writeFile(t,r,i).then(a).catch(o)}unlink(t,r,i){let[n,a]=rt(r,i);this.promises.unlink(t,r).then(n).catch(a)}readdir(t,r,i){let[n,a]=rt(r,i);this.promises.readdir(t,r).then(n).catch(a)}mkdir(t,r,i){let[n,a]=rt(r,i);this.promises.mkdir(t,r).then(n).catch(a)}rmdir(t,r,i){let[n,a]=rt(r,i);this.promises.rmdir(t,r).then(n).catch(a)}rename(t,r,i){let[n,a]=rt(i);this.promises.rename(t,r).then(n).catch(a)}stat(t,r,i){let[n,a]=rt(r,i);this.promises.stat(t).then(n).catch(a)}lstat(t,r,i){let[n,a]=rt(r,i);this.promises.lstat(t).then(n).catch(a)}readlink(t,r,i){let[n,a]=rt(r,i);this.promises.readlink(t).then(n).catch(a)}symlink(t,r,i){let[n,a]=rt(i);this.promises.symlink(t,r).then(n).catch(a)}backFile(t,r,i){let[n,a]=rt(r,i);this.promises.backFile(t,r).then(n).catch(a)}du(t,r){let[i,n]=rt(r);this.promises.du(t).then(i).catch(n)}flush(t){let[r,i]=rt(t);this.promises.flush().then(r).catch(i)}}});var So=$((Tp,ko)=>{"use strict";T();var ot=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if(typeof process>"u"||typeof process.domain>"u")throw new Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||ot.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||ot.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||ot.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=ot.DEFAULT_MAX_PENDING};ot.DEFAULT_TIMEOUT=0;ot.DEFAULT_MAX_OCCUPATION_TIME=0;ot.DEFAULT_MAX_EXECUTION_TIME=0;ot.DEFAULT_MAX_PENDING=1e3;ot.prototype.acquire=function(e,t,r,i){if(Array.isArray(e))return this._acquireBatch(e,t,r,i);if(typeof t!="function")throw new Error("You must pass a function to execute");var n=null,a=null,o=null;typeof r!="function"&&(i=r,r=null,o=new this.Promise(function(m,k){n=m,a=k})),i=i||{};var s=!1,l=null,c=null,f=null,u=this,h=function(m,k,E){c&&(clearTimeout(c),c=null),f&&(clearTimeout(f),f=null),m&&(u.queues[e]&&u.queues[e].length===0&&delete u.queues[e],u.domainReentrant&&delete u.domains[e]),s||(o?k?a(k):n(E):typeof r=="function"&&r(k,E),s=!0),m&&u.queues[e]&&u.queues[e].length>0&&u.queues[e].shift()()},d=function(m){if(s)return h(m);l&&(clearTimeout(l),l=null),u.domainReentrant&&m&&(u.domains[e]=process.domain);var k=i.maxExecutionTime||u.maxExecutionTime;if(k&&(f=setTimeout(function(){u.queues[e]&&h(m,new Error("Maximum execution time is exceeded "+e))},k)),t.length===1){var E=!1;try{t(function(_,A){E||(E=!0,h(m,_,A))})}catch(_){E||(E=!0,h(m,_))}}else u._promiseTry(function(){return t()}).then(function(_){h(m,void 0,_)},function(_){h(m,_)})};u.domainReentrant&&process.domain&&(d=process.domain.bind(d));var g=i.maxPending||u.maxPending;if(!u.queues[e])u.queues[e]=[],d(!0);else if(u.domainReentrant&&process.domain&&process.domain===u.domains[e])d(!1);else if(u.queues[e].length>=g)h(!1,new Error("Too many pending tasks in queue "+e));else{var v=function(){d(!0)};i.skipQueue?u.queues[e].unshift(v):u.queues[e].push(v);var y=i.timeout||u.timeout;y&&(l=setTimeout(function(){l=null,h(!1,new Error("async-lock timed out in queue "+e))},y))}var p=i.maxOccupationTime||u.maxOccupationTime;if(p&&(c=setTimeout(function(){u.queues[e]&&h(!1,new Error("Maximum occupation time is exceeded in queue "+e))},p)),o)return o};ot.prototype._acquireBatch=function(e,t,r,i){typeof r!="function"&&(i=r,r=null);var n=this,a=function(s,l){return function(c){n.acquire(s,l,c,i)}},o=e.reduceRight(function(s,l){return a(l,s)},t);if(typeof r=="function")o(r);else return new this.Promise(function(s,l){o.length===1?o(function(c,f){c?l(c):s(f)}):s(o())})};ot.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0};ot.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(t){return this.Promise.reject(t)}};ko.exports=ot});var To=$((Rp,Io)=>{"use strict";T();Io.exports=So()});var Ao=$((Op,Hi)=>{T();typeof Object.create=="function"?Hi.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Hi.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}});var Zi=$((qi,Bo)=>{T();var Br=Ui(),Nt=Br.Buffer;function Ro(e,t){for(var r in e)t[r]=e[r]}Nt.from&&Nt.alloc&&Nt.allocUnsafe&&Nt.allocUnsafeSlow?Bo.exports=Br:(Ro(Br,qi),qi.Buffer=Ie);function Ie(e,t,r){return Nt(e,t,r)}Ro(Nt,Ie);Ie.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Nt(e,t,r)};Ie.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var i=Nt(e);return t!==void 0?typeof r=="string"?i.fill(t,r):i.fill(t):i.fill(0),i};Ie.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Nt(e)};Ie.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Br.SlowBuffer(e)}});var Fo=$((Dp,$o)=>{T();var Oo=Zi().Buffer;function Or(e,t){this._block=Oo.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Or.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Oo.from(e,t));for(var r=this._block,i=this._blockSize,n=e.length,a=this._len,o=0;o<n;){for(var s=a%i,l=Math.min(n-o,i-s),c=0;c<l;c++)r[s+c]=e[o+c];a+=l,o+=l,a%i===0&&this._update(r)}return this._len+=n,this};Or.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(r&4294967295)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a};Or.prototype._update=function(){throw new Error("_update must be implemented by subclass")};$o.exports=Or});var No=$((Np,Co)=>{T();var mu=Ao(),Do=Fo(),_u=Zi().Buffer,gu=[1518500249,1859775393,-1894007588,-899497514],yu=new Array(80);function Ke(){this.init(),this._w=yu,Do.call(this,64,56)}mu(Ke,Do);Ke.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function bu(e){return e<<1|e>>>31}function vu(e){return e<<5|e>>>27}function xu(e){return e<<30|e>>>2}function Eu(e,t,r,i){return e===0?t&r|~t&i:e===2?t&r|t&i|r&i:t^r^i}Ke.prototype._update=function(e){for(var t=this._w,r=this._a|0,i=this._b|0,n=this._c|0,a=this._d|0,o=this._e|0,s=0;s<16;++s)t[s]=e.readInt32BE(s*4);for(;s<80;++s)t[s]=bu(t[s-3]^t[s-8]^t[s-14]^t[s-16]);for(var l=0;l<80;++l){var c=~~(l/20),f=vu(r)+Eu(c,i,n,a)+o+t[l]+gu[c]|0;o=a,a=n,n=xu(i),i=r,r=f}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0};Ke.prototype._hash=function(){var e=_u.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};Co.exports=Ke});var Po=$(Gi=>{T();var Uo;(function(e){typeof DO_NOT_EXPORT_CRC>"u"?typeof Gi=="object"?e(Gi):typeof define=="function"&&define.amd?define(function(){var t={};return e(t),t}):e(Uo={}):e(Uo={})})(function(e){e.version="1.2.2";function t(){for(var w=0,R=new Array(256),b=0;b!=256;++b)w=b,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,R[b]=w;return typeof Int32Array<"u"?new Int32Array(R):R}var r=t();function i(w){var R=0,b=0,B=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)S[B]=w[B];for(B=0;B!=256;++B)for(b=w[B],R=256+B;R<4096;R+=256)b=S[R]=b>>>8^w[b&255];var O=[];for(B=1;B!=16;++B)O[B-1]=typeof Int32Array<"u"?S.subarray(B*256,B*256+256):S.slice(B*256,B*256+256);return O}var n=i(r),a=n[0],o=n[1],s=n[2],l=n[3],c=n[4],f=n[5],u=n[6],h=n[7],d=n[8],g=n[9],v=n[10],y=n[11],p=n[12],m=n[13],k=n[14];function E(w,R){for(var b=R^-1,B=0,S=w.length;B<S;)b=b>>>8^r[(b^w.charCodeAt(B++))&255];return~b}function _(w,R){for(var b=R^-1,B=w.length-15,S=0;S<B;)b=k[w[S++]^b&255]^m[w[S++]^b>>8&255]^p[w[S++]^b>>16&255]^y[w[S++]^b>>>24]^v[w[S++]]^g[w[S++]]^d[w[S++]]^h[w[S++]]^u[w[S++]]^f[w[S++]]^c[w[S++]]^l[w[S++]]^s[w[S++]]^o[w[S++]]^a[w[S++]]^r[w[S++]];for(B+=15;S<B;)b=b>>>8^r[(b^w[S++])&255];return~b}function A(w,R){for(var b=R^-1,B=0,S=w.length,O=0,F=0;B<S;)O=w.charCodeAt(B++),O<128?b=b>>>8^r[(b^O)&255]:O<2048?(b=b>>>8^r[(b^(192|O>>6&31))&255],b=b>>>8^r[(b^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,F=w.charCodeAt(B++)&1023,b=b>>>8^r[(b^(240|O>>8&7))&255],b=b>>>8^r[(b^(128|O>>2&63))&255],b=b>>>8^r[(b^(128|F>>6&15|(O&3)<<4))&255],b=b>>>8^r[(b^(128|F&63))&255]):(b=b>>>8^r[(b^(224|O>>12&15))&255],b=b>>>8^r[(b^(128|O>>6&63))&255],b=b>>>8^r[(b^(128|O&63))&255]);return~b}e.table=r,e.bstr=E,e.buf=_,e.str=A})});var Ut=$(Q=>{"use strict";T();var ku=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Su(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Q.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var i in r)Su(r,i)&&(e[i]=r[i])}}return e};Q.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var Iu={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+i),n);return}for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){var t,r,i,n,a,o;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(o=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,n),n+=a.length;return o}},Tu={arraySet:function(e,t,r,i,n){for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};Q.setTyped=function(e){e?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,Iu)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,Tu))};Q.setTyped(ku)});var ss=$(Re=>{"use strict";T();var Au=Ut(),Ru=4,Mo=0,zo=1,Bu=2;function Ae(e){for(var t=e.length;--t>=0;)e[t]=0}var Ou=0,Go=1,$u=2,Fu=3,Du=258,Qi=29,rr=256,Je=rr+1+Qi,Te=30,tn=19,Wo=2*Je+1,ne=15,Wi=16,Cu=7,en=256,Xo=16,Yo=17,Ko=18,Vi=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$r=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Nu=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Vo=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Uu=512,Pt=new Array((Je+2)*2);Ae(Pt);var Ve=new Array(Te*2);Ae(Ve);var Qe=new Array(Uu);Ae(Qe);var tr=new Array(Du-Fu+1);Ae(tr);var rn=new Array(Qi);Ae(rn);var Fr=new Array(Te);Ae(Fr);function Xi(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}var Jo,Qo,ts;function Yi(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function es(e){return e<256?Qe[e]:Qe[256+(e>>>7)]}function er(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function it(e,t,r){e.bi_valid>Wi-r?(e.bi_buf|=t<<e.bi_valid&65535,er(e,e.bi_buf),e.bi_buf=t>>Wi-e.bi_valid,e.bi_valid+=r-Wi):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Tt(e,t,r){it(e,r[t*2],r[t*2+1])}function rs(e,t){var r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1}function Pu(e){e.bi_valid===16?(er(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Mu(e,t){var r=t.dyn_tree,i=t.max_code,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,f,u,h,d,g,v=0;for(h=0;h<=ne;h++)e.bl_count[h]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Wo;c++)f=e.heap[c],h=r[r[f*2+1]*2+1]+1,h>l&&(h=l,v++),r[f*2+1]=h,!(f>i)&&(e.bl_count[h]++,d=0,f>=s&&(d=o[f-s]),g=r[f*2],e.opt_len+=g*(h+d),a&&(e.static_len+=g*(n[f*2+1]+d)));if(v!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,v-=2}while(v>0);for(h=l;h!==0;h--)for(f=e.bl_count[h];f!==0;)u=e.heap[--c],!(u>i)&&(r[u*2+1]!==h&&(e.opt_len+=(h-r[u*2+1])*r[u*2],r[u*2+1]=h),f--)}}function is(e,t,r){var i=new Array(ne+1),n=0,a,o;for(a=1;a<=ne;a++)i[a]=n=n+r[a-1]<<1;for(o=0;o<=t;o++){var s=e[o*2+1];s!==0&&(e[o*2]=rs(i[s]++,s))}}function zu(){var e,t,r,i,n,a=new Array(ne+1);for(r=0,i=0;i<Qi-1;i++)for(rn[i]=r,e=0;e<1<<Vi[i];e++)tr[r++]=i;for(tr[r-1]=i,n=0,i=0;i<16;i++)for(Fr[i]=n,e=0;e<1<<$r[i];e++)Qe[n++]=i;for(n>>=7;i<Te;i++)for(Fr[i]=n<<7,e=0;e<1<<$r[i]-7;e++)Qe[256+n++]=i;for(t=0;t<=ne;t++)a[t]=0;for(e=0;e<=143;)Pt[e*2+1]=8,e++,a[8]++;for(;e<=255;)Pt[e*2+1]=9,e++,a[9]++;for(;e<=279;)Pt[e*2+1]=7,e++,a[7]++;for(;e<=287;)Pt[e*2+1]=8,e++,a[8]++;for(is(Pt,Je+1,a),e=0;e<Te;e++)Ve[e*2+1]=5,Ve[e*2]=rs(e,5);Jo=new Xi(Pt,Vi,rr+1,Je,ne),Qo=new Xi(Ve,$r,0,Te,ne),ts=new Xi(new Array(0),Nu,0,tn,Cu)}function ns(e){var t;for(t=0;t<Je;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Te;t++)e.dyn_dtree[t*2]=0;for(t=0;t<tn;t++)e.bl_tree[t*2]=0;e.dyn_ltree[en*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function as(e){e.bi_valid>8?er(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ju(e,t,r,i){as(e),i&&(er(e,r),er(e,~r)),Au.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function jo(e,t,r,i){var n=t*2,a=r*2;return e[n]<e[a]||e[n]===e[a]&&i[t]<=i[r]}function Ki(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&jo(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!jo(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function Lo(e,t,r){var i,n,a=0,o,s;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],n=e.pending_buf[e.l_buf+a],a++,i===0?Tt(e,n,t):(o=tr[n],Tt(e,o+rr+1,t),s=Vi[o],s!==0&&(n-=rn[o],it(e,n,s)),i--,o=es(i),Tt(e,o,r),s=$r[o],s!==0&&(i-=Fr[o],it(e,i,s)));while(a<e.last_lit);Tt(e,en,t)}function Ji(e,t){var r=t.dyn_tree,i=t.stat_desc.static_tree,n=t.stat_desc.has_stree,a=t.stat_desc.elems,o,s,l=-1,c;for(e.heap_len=0,e.heap_max=Wo,o=0;o<a;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=i[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)Ki(e,r,o);c=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ki(e,r,1),s=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=s,r[c*2]=r[o*2]+r[s*2],e.depth[c]=(e.depth[o]>=e.depth[s]?e.depth[o]:e.depth[s])+1,r[o*2+1]=r[s*2+1]=c,e.heap[1]=c++,Ki(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Mu(e,t),is(r,l,e.bl_count)}function Ho(e,t,r){var i,n=-1,a,o=t[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)a=o,o=t[(i+1)*2+1],!(++s<l&&a===o)&&(s<c?e.bl_tree[a*2]+=s:a!==0?(a!==n&&e.bl_tree[a*2]++,e.bl_tree[Xo*2]++):s<=10?e.bl_tree[Yo*2]++:e.bl_tree[Ko*2]++,s=0,n=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4))}function qo(e,t,r){var i,n=-1,a,o=t[0*2+1],s=0,l=7,c=4;for(o===0&&(l=138,c=3),i=0;i<=r;i++)if(a=o,o=t[(i+1)*2+1],!(++s<l&&a===o)){if(s<c)do Tt(e,a,e.bl_tree);while(--s!==0);else a!==0?(a!==n&&(Tt(e,a,e.bl_tree),s--),Tt(e,Xo,e.bl_tree),it(e,s-3,2)):s<=10?(Tt(e,Yo,e.bl_tree),it(e,s-3,3)):(Tt(e,Ko,e.bl_tree),it(e,s-11,7));s=0,n=a,o===0?(l=138,c=3):a===o?(l=6,c=3):(l=7,c=4)}}function Lu(e){var t;for(Ho(e,e.dyn_ltree,e.l_desc.max_code),Ho(e,e.dyn_dtree,e.d_desc.max_code),Ji(e,e.bl_desc),t=tn-1;t>=3&&e.bl_tree[Vo[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function Hu(e,t,r,i){var n;for(it(e,t-257,5),it(e,r-1,5),it(e,i-4,4),n=0;n<i;n++)it(e,e.bl_tree[Vo[n]*2+1],3);qo(e,e.dyn_ltree,t-1),qo(e,e.dyn_dtree,r-1)}function qu(e){var t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Mo;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return zo;for(r=32;r<rr;r++)if(e.dyn_ltree[r*2]!==0)return zo;return Mo}var Zo=!1;function Zu(e){Zo||(zu(),Zo=!0),e.l_desc=new Yi(e.dyn_ltree,Jo),e.d_desc=new Yi(e.dyn_dtree,Qo),e.bl_desc=new Yi(e.bl_tree,ts),e.bi_buf=0,e.bi_valid=0,ns(e)}function os(e,t,r,i){it(e,(Ou<<1)+(i?1:0),3),ju(e,t,r,!0)}function Gu(e){it(e,Go<<1,3),Tt(e,en,Pt),Pu(e)}function Wu(e,t,r,i){var n,a,o=0;e.level>0?(e.strm.data_type===Bu&&(e.strm.data_type=qu(e)),Ji(e,e.l_desc),Ji(e,e.d_desc),o=Lu(e),n=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=n&&(n=a)):n=a=r+5,r+4<=n&&t!==-1?os(e,t,r,i):e.strategy===Ru||a===n?(it(e,(Go<<1)+(i?1:0),3),Lo(e,Pt,Ve)):(it(e,($u<<1)+(i?1:0),3),Hu(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Lo(e,e.dyn_ltree,e.dyn_dtree)),ns(e),i&&as(e)}function Xu(e,t,r){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=r&255,e.last_lit++,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(tr[r]+rr+1)*2]++,e.dyn_dtree[es(t)*2]++),e.last_lit===e.lit_bufsize-1}Re._tr_init=Zu;Re._tr_stored_block=os;Re._tr_flush_block=Wu;Re._tr_tally=Xu;Re._tr_align=Gu});var nn=$((qp,cs)=>{"use strict";T();function Yu(e,t,r,i){for(var n=e&65535|0,a=e>>>16&65535|0,o=0;r!==0;){o=r>2e3?2e3:r,r-=o;do n=n+t[i++]|0,a=a+n|0;while(--o);n%=65521,a%=65521}return n|a<<16|0}cs.exports=Yu});var an=$((Gp,fs)=>{"use strict";T();function Ku(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}var Vu=Ku();function Ju(e,t,r,i){var n=Vu,a=i+r;e^=-1;for(var o=i;o<a;o++)e=e>>>8^n[(e^t[o])&255];return e^-1}fs.exports=Ju});var Dr=$((Xp,ls)=>{"use strict";T();ls.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ys=$(Bt=>{"use strict";T();var tt=Ut(),ut=ss(),ws=nn(),Gt=an(),Qu=Dr(),ce=0,th=1,eh=3,Vt=4,us=5,Rt=0,hs=1,ht=-2,rh=-3,on=-5,ih=-1,nh=1,Cr=2,ah=3,oh=4,sh=0,ch=2,Mr=8,fh=9,lh=15,uh=8,hh=29,dh=256,cn=dh+1+hh,wh=30,ph=19,mh=2*cn+1,_h=15,N=3,Yt=258,_t=Yt+N+1,gh=32,zr=42,fn=69,Nr=73,Ur=91,Pr=103,ae=113,nr=666,Z=1,ar=2,oe=3,$e=4,yh=3;function Kt(e,t){return e.msg=Qu[t],t}function ds(e){return(e<<1)-(e>4?9:0)}function Xt(e){for(var t=e.length;--t>=0;)e[t]=0}function Wt(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(tt.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))}function K(e,t){ut._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Wt(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function ir(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function bh(e,t,r,i){var n=e.avail_in;return n>i&&(n=i),n===0?0:(e.avail_in-=n,tt.arraySet(t,e.input,e.next_in,n,r),e.state.wrap===1?e.adler=ws(e.adler,t,n,r):e.state.wrap===2&&(e.adler=Gt(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}function ps(e,t){var r=e.max_chain_length,i=e.strstart,n,a,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-_t?e.strstart-(e.w_size-_t):0,c=e.window,f=e.w_mask,u=e.prev,h=e.strstart+Yt,d=c[i+o-1],g=c[i+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,!(c[n+o]!==g||c[n+o-1]!==d||c[n]!==c[i]||c[++n]!==c[i+1])){i+=2,n++;do;while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(a=Yt-(h-i),i=h-Yt,a>o){if(e.match_start=t,o=a,a>=s)break;d=c[i+o-1],g=c[i+o]}}while((t=u[t&f])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead}function se(e){var t=e.w_size,r,i,n,a,o;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-_t)){tt.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,r=i;do n=e.head[--r],e.head[r]=n>=t?n-t:0;while(--i);i=t,r=i;do n=e.prev[--r],e.prev[r]=n>=t?n-t:0;while(--i);a+=t}if(e.strm.avail_in===0)break;if(i=bh(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=N)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+N-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<N)););}while(e.lookahead<_t&&e.strm.avail_in!==0)}function vh(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),e.lookahead===0&&t===ce)return Z;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,K(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-_t&&(K(e,!1),e.strm.avail_out===0))return Z}return e.insert=0,t===Vt?(K(e,!0),e.strm.avail_out===0?oe:$e):(e.strstart>e.block_start&&(K(e,!1),e.strm.avail_out===0),Z)}function sn(e,t){for(var r,i;;){if(e.lookahead<_t){if(se(e),e.lookahead<_t&&t===ce)return Z;if(e.lookahead===0)break}if(r=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-_t&&(e.match_length=ps(e,r)),e.match_length>=N)if(i=ut._tr_tally(e,e.strstart-e.match_start,e.match_length-N),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=N){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=ut._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(K(e,!1),e.strm.avail_out===0))return Z}return e.insert=e.strstart<N-1?e.strstart:N-1,t===Vt?(K(e,!0),e.strm.avail_out===0?oe:$e):e.last_lit&&(K(e,!1),e.strm.avail_out===0)?Z:ar}function Be(e,t){for(var r,i,n;;){if(e.lookahead<_t){if(se(e),e.lookahead<_t&&t===ce)return Z;if(e.lookahead===0)break}if(r=0,e.lookahead>=N&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=N-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-_t&&(e.match_length=ps(e,r),e.match_length<=5&&(e.strategy===nh||e.match_length===N&&e.strstart-e.match_start>4096)&&(e.match_length=N-1)),e.prev_length>=N&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-N,i=ut._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-N),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+N-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=N-1,e.strstart++,i&&(K(e,!1),e.strm.avail_out===0))return Z}else if(e.match_available){if(i=ut._tr_tally(e,0,e.window[e.strstart-1]),i&&K(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Z}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ut._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<N-1?e.strstart:N-1,t===Vt?(K(e,!0),e.strm.avail_out===0?oe:$e):e.last_lit&&(K(e,!1),e.strm.avail_out===0)?Z:ar}function xh(e,t){for(var r,i,n,a,o=e.window;;){if(e.lookahead<=Yt){if(se(e),e.lookahead<=Yt&&t===ce)return Z;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=N&&e.strstart>0&&(n=e.strstart-1,i=o[n],i===o[++n]&&i===o[++n]&&i===o[++n])){a=e.strstart+Yt;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);e.match_length=Yt-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=N?(r=ut._tr_tally(e,1,e.match_length-N),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=ut._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(K(e,!1),e.strm.avail_out===0))return Z}return e.insert=0,t===Vt?(K(e,!0),e.strm.avail_out===0?oe:$e):e.last_lit&&(K(e,!1),e.strm.avail_out===0)?Z:ar}function Eh(e,t){for(var r;;){if(e.lookahead===0&&(se(e),e.lookahead===0)){if(t===ce)return Z;break}if(e.match_length=0,r=ut._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(K(e,!1),e.strm.avail_out===0))return Z}return e.insert=0,t===Vt?(K(e,!0),e.strm.avail_out===0?oe:$e):e.last_lit&&(K(e,!1),e.strm.avail_out===0)?Z:ar}function At(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}var Oe;Oe=[new At(0,0,0,0,vh),new At(4,4,8,4,sn),new At(4,5,16,8,sn),new At(4,6,32,32,sn),new At(4,4,16,16,Be),new At(8,16,32,32,Be),new At(8,16,128,128,Be),new At(8,32,128,256,Be),new At(32,128,258,1024,Be),new At(32,258,258,4096,Be)];function kh(e){e.window_size=2*e.w_size,Xt(e.head),e.max_lazy_match=Oe[e.level].max_lazy,e.good_match=Oe[e.level].good_length,e.nice_match=Oe[e.level].nice_length,e.max_chain_length=Oe[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0}function Sh(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Mr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new tt.Buf16(mh*2),this.dyn_dtree=new tt.Buf16((2*wh+1)*2),this.bl_tree=new tt.Buf16((2*ph+1)*2),Xt(this.dyn_ltree),Xt(this.dyn_dtree),Xt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new tt.Buf16(_h+1),this.heap=new tt.Buf16(2*cn+1),Xt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new tt.Buf16(2*cn+1),Xt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ms(e){var t;return!e||!e.state?Kt(e,ht):(e.total_in=e.total_out=0,e.data_type=ch,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?zr:ae,e.adler=t.wrap===2?0:1,t.last_flush=ce,ut._tr_init(t),Rt)}function _s(e){var t=ms(e);return t===Rt&&kh(e.state),t}function Ih(e,t){return!e||!e.state||e.state.wrap!==2?ht:(e.state.gzhead=t,Rt)}function gs(e,t,r,i,n,a){if(!e)return ht;var o=1;if(t===ih&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>fh||r!==Mr||i<8||i>15||t<0||t>9||a<0||a>oh)return Kt(e,ht);i===8&&(i=9);var s=new Sh;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=n+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+N-1)/N),s.window=new tt.Buf8(s.w_size*2),s.head=new tt.Buf16(s.hash_size),s.prev=new tt.Buf16(s.w_size),s.lit_bufsize=1<<n+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new tt.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=r,_s(e)}function Th(e,t){return gs(e,t,Mr,lh,uh,sh)}function Ah(e,t){var r,i,n,a;if(!e||!e.state||t>us||t<0)return e?Kt(e,ht):ht;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===nr&&t!==Vt)return Kt(e,e.avail_out===0?on:ht);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===zr)if(i.wrap===2)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,i.gzhead.time&255),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,i.level===9?2:i.strategy>=Cr||i.level<2?4:0),M(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,i.gzhead.extra.length&255),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Gt(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=fn):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,i.level===9?2:i.strategy>=Cr||i.level<2?4:0),M(i,yh),i.status=ae);else{var o=Mr+(i.w_bits-8<<4)<<8,s=-1;i.strategy>=Cr||i.level<2?s=0:i.level<6?s=1:i.level===6?s=2:s=3,o|=s<<6,i.strstart!==0&&(o|=gh),o+=31-o%31,i.status=ae,ir(i,o),i.strstart!==0&&(ir(i,e.adler>>>16),ir(i,e.adler&65535)),e.adler=1}if(i.status===fn)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),Wt(e),n=i.pending,i.pending===i.pending_buf_size));)M(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Nr)}else i.status=Nr;if(i.status===Nr)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),Wt(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}i.gzindex<i.gzhead.name.length?a=i.gzhead.name.charCodeAt(i.gzindex++)&255:a=0,M(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),a===0&&(i.gzindex=0,i.status=Ur)}else i.status=Ur;if(i.status===Ur)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),Wt(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}i.gzindex<i.gzhead.comment.length?a=i.gzhead.comment.charCodeAt(i.gzindex++)&255:a=0,M(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=Gt(e.adler,i.pending_buf,i.pending-n,n)),a===0&&(i.status=Pr)}else i.status=Pr;if(i.status===Pr&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Wt(e),i.pending+2<=i.pending_buf_size&&(M(i,e.adler&255),M(i,e.adler>>8&255),e.adler=0,i.status=ae)):i.status=ae),i.pending!==0){if(Wt(e),e.avail_out===0)return i.last_flush=-1,Rt}else if(e.avail_in===0&&ds(t)<=ds(r)&&t!==Vt)return Kt(e,on);if(i.status===nr&&e.avail_in!==0)return Kt(e,on);if(e.avail_in!==0||i.lookahead!==0||t!==ce&&i.status!==nr){var l=i.strategy===Cr?Eh(i,t):i.strategy===ah?xh(i,t):Oe[i.level].func(i,t);if((l===oe||l===$e)&&(i.status=nr),l===Z||l===oe)return e.avail_out===0&&(i.last_flush=-1),Rt;if(l===ar&&(t===th?ut._tr_align(i):t!==us&&(ut._tr_stored_block(i,0,0,!1),t===eh&&(Xt(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),Wt(e),e.avail_out===0))return i.last_flush=-1,Rt}return t!==Vt?Rt:i.wrap<=0?hs:(i.wrap===2?(M(i,e.adler&255),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,e.total_in&255),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(ir(i,e.adler>>>16),ir(i,e.adler&65535)),Wt(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Rt:hs)}function Rh(e){var t;return!e||!e.state?ht:(t=e.state.status,t!==zr&&t!==fn&&t!==Nr&&t!==Ur&&t!==Pr&&t!==ae&&t!==nr?Kt(e,ht):(e.state=null,t===ae?Kt(e,rh):Rt))}function Bh(e,t){var r=t.length,i,n,a,o,s,l,c,f;if(!e||!e.state||(i=e.state,o=i.wrap,o===2||o===1&&i.status!==zr||i.lookahead))return ht;for(o===1&&(e.adler=ws(e.adler,t,r,0)),i.wrap=0,r>=i.w_size&&(o===0&&(Xt(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=new tt.Buf8(i.w_size),tt.arraySet(f,t,r-i.w_size,i.w_size,0),t=f,r=i.w_size),s=e.avail_in,l=e.next_in,c=e.input,e.avail_in=r,e.next_in=0,e.input=t,se(i);i.lookahead>=N;){n=i.strstart,a=i.lookahead-(N-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+N-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++;while(--a);i.strstart=n,i.lookahead=N-1,se(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=N-1,i.match_available=0,e.next_in=l,e.input=c,e.avail_in=s,i.wrap=o,Rt}Bt.deflateInit=Th;Bt.deflateInit2=gs;Bt.deflateReset=_s;Bt.deflateResetKeep=ms;Bt.deflateSetHeader=Ih;Bt.deflate=Ah;Bt.deflateEnd=Rh;Bt.deflateSetDictionary=Bh;Bt.deflateInfo="pako deflate (from Nodeca project)"});var ln=$(Fe=>{"use strict";T();var jr=Ut(),bs=!0,vs=!0;try{String.fromCharCode.apply(null,[0])}catch{bs=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vs=!1}var or=new jr.Buf8(256);for(Mt=0;Mt<256;Mt++)or[Mt]=Mt>=252?6:Mt>=248?5:Mt>=240?4:Mt>=224?3:Mt>=192?2:1;var Mt;or[254]=or[254]=1;Fe.string2buf=function(e){var t,r,i,n,a,o=e.length,s=0;for(n=0;n<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(t=new jr.Buf8(s),a=0,n=0;a<s;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};function xs(e,t){if(t<65534&&(e.subarray&&vs||!e.subarray&&bs))return String.fromCharCode.apply(null,jr.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}Fe.buf2binstring=function(e){return xs(e,e.length)};Fe.binstring2buf=function(e){for(var t=new jr.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t};Fe.buf2string=function(e,t){var r,i,n,a,o=t||e.length,s=new Array(o*2);for(i=0,r=0;r<o;){if(n=e[r++],n<128){s[i++]=n;continue}if(a=or[n],a>4){s[i++]=65533,r+=a-1;continue}for(n&=a===2?31:a===3?15:7;a>1&&r<o;)n=n<<6|e[r++]&63,a--;if(a>1){s[i++]=65533;continue}n<65536?s[i++]=n:(n-=65536,s[i++]=55296|n>>10&1023,s[i++]=56320|n&1023)}return xs(s,i)};Fe.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+or[e[r]]>t?r:t}});var un=$((tm,Es)=>{"use strict";T();function Oh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Es.exports=Oh});var Ts=$(fr=>{"use strict";T();var sr=ys(),cr=Ut(),dn=ln(),wn=Dr(),$h=un(),Is=Object.prototype.toString,Fh=0,hn=4,De=0,ks=1,Ss=2,Dh=-1,Ch=0,Nh=8;function fe(e){if(!(this instanceof fe))return new fe(e);this.options=cr.assign({level:Dh,method:Nh,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ch,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $h,this.strm.avail_out=0;var r=sr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==De)throw new Error(wn[r]);if(t.header&&sr.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(typeof t.dictionary=="string"?i=dn.string2buf(t.dictionary):Is.call(t.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(t.dictionary):i=t.dictionary,r=sr.deflateSetDictionary(this.strm,i),r!==De)throw new Error(wn[r]);this._dict_set=!0}}fe.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n,a;if(this.ended)return!1;a=t===~~t?t:t===!0?hn:Fh,typeof e=="string"?r.input=dn.string2buf(e):Is.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new cr.Buf8(i),r.next_out=0,r.avail_out=i),n=sr.deflate(r,a),n!==ks&&n!==De)return this.onEnd(n),this.ended=!0,!1;(r.avail_out===0||r.avail_in===0&&(a===hn||a===Ss))&&(this.options.to==="string"?this.onData(dn.buf2binstring(cr.shrinkBuf(r.output,r.next_out))):this.onData(cr.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||r.avail_out===0)&&n!==ks);return a===hn?(n=sr.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===De):(a===Ss&&(this.onEnd(De),r.avail_out=0),!0)};fe.prototype.onData=function(e){this.chunks.push(e)};fe.prototype.onEnd=function(e){e===De&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cr.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function pn(e,t){var r=new fe(t);if(r.push(e,!0),r.err)throw r.msg||wn[r.err];return r.result}function Uh(e,t){return t=t||{},t.raw=!0,pn(e,t)}function Ph(e,t){return t=t||{},t.gzip=!0,pn(e,t)}fr.Deflate=fe;fr.deflate=pn;fr.deflateRaw=Uh;fr.gzip=Ph});var Rs=$((nm,As)=>{"use strict";T();var Lr=30,Mh=12;As.exports=function(t,r){var i,n,a,o,s,l,c,f,u,h,d,g,v,y,p,m,k,E,_,A,w,R,b,B,S;i=t.state,n=t.next_in,B=t.input,a=n+(t.avail_in-5),o=t.next_out,S=t.output,s=o-(r-t.avail_out),l=o+(t.avail_out-257),c=i.dmax,f=i.wsize,u=i.whave,h=i.wnext,d=i.window,g=i.hold,v=i.bits,y=i.lencode,p=i.distcode,m=(1<<i.lenbits)-1,k=(1<<i.distbits)-1;t:do{v<15&&(g+=B[n++]<<v,v+=8,g+=B[n++]<<v,v+=8),E=y[g&m];e:for(;;){if(_=E>>>24,g>>>=_,v-=_,_=E>>>16&255,_===0)S[o++]=E&65535;else if(_&16){A=E&65535,_&=15,_&&(v<_&&(g+=B[n++]<<v,v+=8),A+=g&(1<<_)-1,g>>>=_,v-=_),v<15&&(g+=B[n++]<<v,v+=8,g+=B[n++]<<v,v+=8),E=p[g&k];r:for(;;){if(_=E>>>24,g>>>=_,v-=_,_=E>>>16&255,_&16){if(w=E&65535,_&=15,v<_&&(g+=B[n++]<<v,v+=8,v<_&&(g+=B[n++]<<v,v+=8)),w+=g&(1<<_)-1,w>c){t.msg="invalid distance too far back",i.mode=Lr;break t}if(g>>>=_,v-=_,_=o-s,w>_){if(_=w-_,_>u&&i.sane){t.msg="invalid distance too far back",i.mode=Lr;break t}if(R=0,b=d,h===0){if(R+=f-_,_<A){A-=_;do S[o++]=d[R++];while(--_);R=o-w,b=S}}else if(h<_){if(R+=f+h-_,_-=h,_<A){A-=_;do S[o++]=d[R++];while(--_);if(R=0,h<A){_=h,A-=_;do S[o++]=d[R++];while(--_);R=o-w,b=S}}}else if(R+=h-_,_<A){A-=_;do S[o++]=d[R++];while(--_);R=o-w,b=S}for(;A>2;)S[o++]=b[R++],S[o++]=b[R++],S[o++]=b[R++],A-=3;A&&(S[o++]=b[R++],A>1&&(S[o++]=b[R++]))}else{R=o-w;do S[o++]=S[R++],S[o++]=S[R++],S[o++]=S[R++],A-=3;while(A>2);A&&(S[o++]=S[R++],A>1&&(S[o++]=S[R++]))}}else if(_&64){t.msg="invalid distance code",i.mode=Lr;break t}else{E=p[(E&65535)+(g&(1<<_)-1)];continue r}break}}else if(_&64)if(_&32){i.mode=Mh;break t}else{t.msg="invalid literal/length code",i.mode=Lr;break t}else{E=y[(E&65535)+(g&(1<<_)-1)];continue e}break}}while(n<a&&o<l);A=v>>3,n-=A,v-=A<<3,g&=(1<<v)-1,t.next_in=n,t.next_out=o,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=o<l?257+(l-o):257-(o-l),i.hold=g,i.bits=v}});var Ns=$((om,Cs)=>{"use strict";T();var Bs=Ut(),Ce=15,Os=852,$s=592,Fs=0,mn=1,Ds=2,zh=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],jh=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Lh=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Hh=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Cs.exports=function(t,r,i,n,a,o,s,l){var c=l.bits,f=0,u=0,h=0,d=0,g=0,v=0,y=0,p=0,m=0,k=0,E,_,A,w,R,b=null,B=0,S,O=new Bs.Buf16(Ce+1),F=new Bs.Buf16(Ce+1),P=null,ct=0,be,bt,te;for(f=0;f<=Ce;f++)O[f]=0;for(u=0;u<n;u++)O[r[i+u]]++;for(g=c,d=Ce;d>=1&&O[d]===0;d--);if(g>d&&(g=d),d===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<d&&O[h]===0;h++);for(g<h&&(g=h),p=1,f=1;f<=Ce;f++)if(p<<=1,p-=O[f],p<0)return-1;if(p>0&&(t===Fs||d!==1))return-1;for(F[1]=0,f=1;f<Ce;f++)F[f+1]=F[f]+O[f];for(u=0;u<n;u++)r[i+u]!==0&&(s[F[r[i+u]]++]=u);if(t===Fs?(b=P=s,S=19):t===mn?(b=zh,B-=257,P=jh,ct-=257,S=256):(b=Lh,P=Hh,S=-1),k=0,u=0,f=h,R=o,v=g,y=0,A=-1,m=1<<g,w=m-1,t===mn&&m>Os||t===Ds&&m>$s)return 1;for(;;){be=f-y,s[u]<S?(bt=0,te=s[u]):s[u]>S?(bt=P[ct+s[u]],te=b[B+s[u]]):(bt=96,te=0),E=1<<f-y,_=1<<v,h=_;do _-=E,a[R+(k>>y)+_]=be<<24|bt<<16|te|0;while(_!==0);for(E=1<<f-1;k&E;)E>>=1;if(E!==0?(k&=E-1,k+=E):k=0,u++,--O[f]===0){if(f===d)break;f=r[i+s[u]]}if(f>g&&(k&w)!==A){for(y===0&&(y=g),R+=h,v=f-y,p=1<<v;v+y<d&&(p-=O[v+y],!(p<=0));)v++,p<<=1;if(m+=1<<v,t===mn&&m>Os||t===Ds&&m>$s)return 1;A=k&w,a[A]=g<<24|v<<16|R-o|0}}return k!==0&&(a[R+k]=f-y<<24|64<<16|0),l.bits=g,0}});var _c=$(gt=>{"use strict";T();var st=Ut(),xn=nn(),Ot=an(),qh=Rs(),lr=Ns(),Zh=0,cc=1,fc=2,Us=4,Gh=5,Hr=6,le=0,Wh=1,Xh=2,dt=-2,lc=-3,En=-4,Yh=-5,Ps=8,uc=1,Ms=2,zs=3,js=4,Ls=5,Hs=6,qs=7,Zs=8,Gs=9,Ws=10,Gr=11,zt=12,_n=13,Xs=14,gn=15,Ys=16,Ks=17,Vs=18,Js=19,qr=20,Zr=21,Qs=22,tc=23,ec=24,rc=25,ic=26,yn=27,nc=28,ac=29,L=30,kn=31,Kh=32,Vh=852,Jh=592,Qh=15,td=Qh;function oc(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function ed(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new st.Buf16(320),this.work=new st.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function hc(e){var t;return!e||!e.state?dt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=uc,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new st.Buf32(Vh),t.distcode=t.distdyn=new st.Buf32(Jh),t.sane=1,t.back=-1,le)}function dc(e){var t;return!e||!e.state?dt:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,hc(e))}function wc(e,t){var r,i;return!e||!e.state||(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?dt:(i.window!==null&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,dc(e))}function pc(e,t){var r,i;return e?(i=new ed,e.state=i,i.window=null,r=wc(e,t),r!==le&&(e.state=null),r):dt}function rd(e){return pc(e,td)}var sc=!0,bn,vn;function id(e){if(sc){var t;for(bn=new st.Buf32(512),vn=new st.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(lr(cc,e.lens,0,288,bn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;lr(fc,e.lens,0,32,vn,0,e.work,{bits:5}),sc=!1}e.lencode=bn,e.lenbits=9,e.distcode=vn,e.distbits=5}function mc(e,t,r,i){var n,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new st.Buf8(a.wsize)),i>=a.wsize?(st.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),st.arraySet(a.window,t,r-i,n,a.wnext),i-=n,i?(st.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}function nd(e,t){var r,i,n,a,o,s,l,c,f,u,h,d,g,v,y=0,p,m,k,E,_,A,w,R,b=new st.Buf8(4),B,S,O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return dt;r=e.state,r.mode===zt&&(r.mode=_n),o=e.next_out,n=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=r.hold,f=r.bits,u=s,h=l,R=le;t:for(;;)switch(r.mode){case uc:if(r.wrap===0){r.mode=_n;break}for(;f<16;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(r.wrap&2&&c===35615){r.check=0,b[0]=c&255,b[1]=c>>>8&255,r.check=Ot(r.check,b,2,0),c=0,f=0,r.mode=Ms;break}if(r.flags=0,r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=L;break}if((c&15)!==Ps){e.msg="unknown compression method",r.mode=L;break}if(c>>>=4,f-=4,w=(c&15)+8,r.wbits===0)r.wbits=w;else if(w>r.wbits){e.msg="invalid window size",r.mode=L;break}r.dmax=1<<w,e.adler=r.check=1,r.mode=c&512?Ws:zt,c=0,f=0;break;case Ms:for(;f<16;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==Ps){e.msg="unknown compression method",r.mode=L;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=L;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,r.check=Ot(r.check,b,2,0)),c=0,f=0,r.mode=zs;case zs:for(;f<32;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,b[2]=c>>>16&255,b[3]=c>>>24&255,r.check=Ot(r.check,b,4,0)),c=0,f=0,r.mode=js;case js:for(;f<16;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,r.check=Ot(r.check,b,2,0)),c=0,f=0,r.mode=Ls;case Ls:if(r.flags&1024){for(;f<16;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&(b[0]=c&255,b[1]=c>>>8&255,r.check=Ot(r.check,b,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=Hs;case Hs:if(r.flags&1024&&(d=r.length,d>s&&(d=s),d&&(r.head&&(w=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),st.arraySet(r.head.extra,i,a,d,w)),r.flags&512&&(r.check=Ot(r.check,i,d,a)),s-=d,a+=d,r.length-=d),r.length))break t;r.length=0,r.mode=qs;case qs:if(r.flags&2048){if(s===0)break t;d=0;do w=i[a+d++],r.head&&w&&r.length<65536&&(r.head.name+=String.fromCharCode(w));while(w&&d<s);if(r.flags&512&&(r.check=Ot(r.check,i,d,a)),s-=d,a+=d,w)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=Zs;case Zs:if(r.flags&4096){if(s===0)break t;d=0;do w=i[a+d++],r.head&&w&&r.length<65536&&(r.head.comment+=String.fromCharCode(w));while(w&&d<s);if(r.flags&512&&(r.check=Ot(r.check,i,d,a)),s-=d,a+=d,w)break t}else r.head&&(r.head.comment=null);r.mode=Gs;case Gs:if(r.flags&512){for(;f<16;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=L;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=zt;break;case Ws:for(;f<32;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}e.adler=r.check=oc(c),c=0,f=0,r.mode=Gr;case Gr:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,Xh;e.adler=r.check=1,r.mode=zt;case zt:if(t===Gh||t===Hr)break t;case _n:if(r.last){c>>>=f&7,f-=f&7,r.mode=yn;break}for(;f<3;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=Xs;break;case 1:if(id(r),r.mode=qr,t===Hr){c>>>=2,f-=2;break t}break;case 2:r.mode=Ks;break;case 3:e.msg="invalid block type",r.mode=L}c>>>=2,f-=2;break;case Xs:for(c>>>=f&7,f-=f&7;f<32;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=L;break}if(r.length=c&65535,c=0,f=0,r.mode=gn,t===Hr)break t;case gn:r.mode=Ys;case Ys:if(d=r.length,d){if(d>s&&(d=s),d>l&&(d=l),d===0)break t;st.arraySet(n,i,a,d,o),s-=d,a+=d,l-=d,o+=d,r.length-=d;break}r.mode=zt;break;case Ks:for(;f<14;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=L;break}r.have=0,r.mode=Vs;case Vs:for(;r.have<r.ncode;){for(;f<3;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.lens[O[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},R=lr(Zh,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,R){e.msg="invalid code lengths set",r.mode=L;break}r.have=0,r.mode=Js;case Js:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],p=y>>>24,m=y>>>16&255,k=y&65535,!(p<=f);){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(k<16)c>>>=p,f-=p,r.lens[r.have++]=k;else{if(k===16){for(S=p+2;f<S;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(c>>>=p,f-=p,r.have===0){e.msg="invalid bit length repeat",r.mode=L;break}w=r.lens[r.have-1],d=3+(c&3),c>>>=2,f-=2}else if(k===17){for(S=p+3;f<S;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}c>>>=p,f-=p,w=0,d=3+(c&7),c>>>=3,f-=3}else{for(S=p+7;f<S;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}c>>>=p,f-=p,w=0,d=11+(c&127),c>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=L;break}for(;d--;)r.lens[r.have++]=w}}if(r.mode===L)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=L;break}if(r.lenbits=9,B={bits:r.lenbits},R=lr(cc,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,R){e.msg="invalid literal/lengths set",r.mode=L;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},R=lr(fc,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,R){e.msg="invalid distances set",r.mode=L;break}if(r.mode=qr,t===Hr)break t;case qr:r.mode=Zr;case Zr:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,qh(e,h),o=e.next_out,n=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=r.hold,f=r.bits,r.mode===zt&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],p=y>>>24,m=y>>>16&255,k=y&65535,!(p<=f);){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(m&&!(m&240)){for(E=p,_=m,A=k;y=r.lencode[A+((c&(1<<E+_)-1)>>E)],p=y>>>24,m=y>>>16&255,k=y&65535,!(E+p<=f);){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}c>>>=E,f-=E,r.back+=E}if(c>>>=p,f-=p,r.back+=p,r.length=k,m===0){r.mode=ic;break}if(m&32){r.back=-1,r.mode=zt;break}if(m&64){e.msg="invalid literal/length code",r.mode=L;break}r.extra=m&15,r.mode=Qs;case Qs:if(r.extra){for(S=r.extra;f<S;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=tc;case tc:for(;y=r.distcode[c&(1<<r.distbits)-1],p=y>>>24,m=y>>>16&255,k=y&65535,!(p<=f);){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(!(m&240)){for(E=p,_=m,A=k;y=r.distcode[A+((c&(1<<E+_)-1)>>E)],p=y>>>24,m=y>>>16&255,k=y&65535,!(E+p<=f);){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}c>>>=E,f-=E,r.back+=E}if(c>>>=p,f-=p,r.back+=p,m&64){e.msg="invalid distance code",r.mode=L;break}r.offset=k,r.extra=m&15,r.mode=ec;case ec:if(r.extra){for(S=r.extra;f<S;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=L;break}r.mode=rc;case rc:if(l===0)break t;if(d=h-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=L;break}d>r.wnext?(d-=r.wnext,g=r.wsize-d):g=r.wnext-d,d>r.length&&(d=r.length),v=r.window}else v=n,g=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do n[o++]=v[g++];while(--d);r.length===0&&(r.mode=Zr);break;case ic:if(l===0)break t;n[o++]=r.length,l--,r.mode=Zr;break;case yn:if(r.wrap){for(;f<32;){if(s===0)break t;s--,c|=i[a++]<<f,f+=8}if(h-=l,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?Ot(r.check,n,h,o-h):xn(r.check,n,h,o-h)),h=l,(r.flags?c:oc(c))!==r.check){e.msg="incorrect data check",r.mode=L;break}c=0,f=0}r.mode=nc;case nc:if(r.wrap&&r.flags){for(;f<32;){if(s===0)break t;s--,c+=i[a++]<<f,f+=8}if(c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=L;break}c=0,f=0}r.mode=ac;case ac:R=Wh;break t;case L:R=lc;break t;case kn:return En;case Kh:default:return dt}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=c,r.bits=f,(r.wsize||h!==e.avail_out&&r.mode<L&&(r.mode<yn||t!==Us))&&mc(e,e.output,e.next_out,h-e.avail_out)?(r.mode=kn,En):(u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?Ot(r.check,n,h,e.next_out-h):xn(r.check,n,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===zt?128:0)+(r.mode===qr||r.mode===gn?256:0),(u===0&&h===0||t===Us)&&R===le&&(R=Yh),R)}function ad(e){if(!e||!e.state)return dt;var t=e.state;return t.window&&(t.window=null),e.state=null,le}function od(e,t){var r;return!e||!e.state||(r=e.state,!(r.wrap&2))?dt:(r.head=t,t.done=!1,le)}function sd(e,t){var r=t.length,i,n,a;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==Gr)?dt:i.mode===Gr&&(n=1,n=xn(n,t,r,0),n!==i.check)?lc:(a=mc(e,t,r,r),a?(i.mode=kn,En):(i.havedict=1,le))}gt.inflateReset=dc;gt.inflateReset2=wc;gt.inflateResetKeep=hc;gt.inflateInit=rd;gt.inflateInit2=pc;gt.inflate=nd;gt.inflateEnd=ad;gt.inflateGetHeader=od;gt.inflateSetDictionary=sd;gt.inflateInfo="pako inflate (from Nodeca project)"});var Sn=$((lm,gc)=>{"use strict";T();gc.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var bc=$((hm,yc)=>{"use strict";T();function cd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}yc.exports=cd});var xc=$(hr=>{"use strict";T();var Ne=_c(),ur=Ut(),Wr=ln(),q=Sn(),In=Dr(),fd=un(),ld=bc(),vc=Object.prototype.toString;function ue(e){if(!(this instanceof ue))return new ue(e);this.options=ur.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fd,this.strm.avail_out=0;var r=Ne.inflateInit2(this.strm,t.windowBits);if(r!==q.Z_OK)throw new Error(In[r]);if(this.header=new ld,Ne.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Wr.string2buf(t.dictionary):vc.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ne.inflateSetDictionary(this.strm,t.dictionary),r!==q.Z_OK)))throw new Error(In[r])}ue.prototype.push=function(e,t){var r=this.strm,i=this.options.chunkSize,n=this.options.dictionary,a,o,s,l,c,f=!1;if(this.ended)return!1;o=t===~~t?t:t===!0?q.Z_FINISH:q.Z_NO_FLUSH,typeof e=="string"?r.input=Wr.binstring2buf(e):vc.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(r.avail_out===0&&(r.output=new ur.Buf8(i),r.next_out=0,r.avail_out=i),a=Ne.inflate(r,q.Z_NO_FLUSH),a===q.Z_NEED_DICT&&n&&(a=Ne.inflateSetDictionary(this.strm,n)),a===q.Z_BUF_ERROR&&f===!0&&(a=q.Z_OK,f=!1),a!==q.Z_STREAM_END&&a!==q.Z_OK)return this.onEnd(a),this.ended=!0,!1;r.next_out&&(r.avail_out===0||a===q.Z_STREAM_END||r.avail_in===0&&(o===q.Z_FINISH||o===q.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=Wr.utf8border(r.output,r.next_out),l=r.next_out-s,c=Wr.buf2string(r.output,s),r.next_out=l,r.avail_out=i-l,l&&ur.arraySet(r.output,r.output,s,l,0),this.onData(c)):this.onData(ur.shrinkBuf(r.output,r.next_out))),r.avail_in===0&&r.avail_out===0&&(f=!0)}while((r.avail_in>0||r.avail_out===0)&&a!==q.Z_STREAM_END);return a===q.Z_STREAM_END&&(o=q.Z_FINISH),o===q.Z_FINISH?(a=Ne.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===q.Z_OK):(o===q.Z_SYNC_FLUSH&&(this.onEnd(q.Z_OK),r.avail_out=0),!0)};ue.prototype.onData=function(e){this.chunks.push(e)};ue.prototype.onEnd=function(e){e===q.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ur.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Tn(e,t){var r=new ue(t);if(r.push(e,!0),r.err)throw r.msg||In[r.err];return r.result}function ud(e,t){return t=t||{},t.raw=!0,Tn(e,t)}hr.Inflate=ue;hr.inflate=Tn;hr.inflateRaw=ud;hr.ungzip=Tn});var Sc=$((mm,kc)=>{"use strict";T();var hd=Ut().assign,dd=Ts(),wd=xc(),pd=Sn(),Ec={};hd(Ec,dd,wd,pd);kc.exports=Ec});var Ac=$((gm,Tc)=>{"use strict";T();var Ic=(e,t)=>function(...r){let i=t.promiseModule;return new i((n,a)=>{t.multiArgs?r.push((...o)=>{t.errorFirst?o[0]?a(o):(o.shift(),n(o)):n(o)}):t.errorFirst?r.push((o,s)=>{o?a(o):n(s)}):r.push(n),e.apply(this,r)})};Tc.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);let i=a=>{let o=s=>typeof s=="string"?a===s:s.test(a);return t.include?t.include.some(o):!t.exclude.some(o)},n;r==="function"?n=function(...a){return t.excludeMain?e(...a):Ic(e,t).apply(this,a)}:n=Object.create(Object.getPrototypeOf(e));for(let a in e){let o=e[a];n[a]=typeof o=="function"&&i(a)?Ic(o,t):o}return n}});var Uc=$((bm,Nc)=>{T();function Rc(e){return Array.isArray(e)?e:[e]}var Bn="",Bc=" ",An="\\",md=/^\s+$/,_d=/(?:[^\\]|^)\\$/,gd=/^\\!/,yd=/^\\#/,bd=/\r?\n/g,vd=/^\.*\/|^\.+$/,Rn="/",Fc="node-ignore";typeof Symbol<"u"&&(Fc=Symbol.for("node-ignore"));var Oc=Fc,xd=(e,t,r)=>Object.defineProperty(e,t,{value:r}),Ed=/([0-z])-([0-z])/g,Dc=()=>!1,kd=e=>e.replace(Ed,(t,r,i)=>r.charCodeAt(0)<=i.charCodeAt(0)?t:Bn),Sd=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Id=[[/^\uFEFF/,()=>Bn],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,r)=>t+(r.indexOf("\\")===0?Bc:Bn)],[/(\\+?)\s/g,(e,t)=>{let{length:r}=t;return t.slice(0,r-r%2)+Bc}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let i=r.replace(/\\\*/g,"[^\\/]*");return t+i}],[/\\\\\\(?=[$.|*+(){^])/g,()=>An],[/\\\\/g,()=>An],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,i,n)=>t===An?`\\[${r}${Sd(i)}${n}`:n==="]"&&i.length%2===0?`[${kd(r)}${i}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],$c=Object.create(null),Td=(e,t)=>{let r=$c[e];return r||(r=Id.reduce((i,[n,a])=>i.replace(n,a.bind(e)),e),$c[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Fn=e=>typeof e=="string",Ad=e=>e&&Fn(e)&&!md.test(e)&&!_d.test(e)&&e.indexOf("#")!==0,Rd=e=>e.split(bd),On=class{constructor(t,r,i,n){this.origin=t,this.pattern=r,this.negative=i,this.regex=n}},Bd=(e,t)=>{let r=e,i=!1;e.indexOf("!")===0&&(i=!0,e=e.substr(1)),e=e.replace(gd,"!").replace(yd,"#");let n=Td(e,t);return new On(r,e,i,n)},Od=(e,t)=>{throw new t(e)},jt=(e,t,r)=>Fn(e)?e?jt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Cc=e=>vd.test(e);jt.isNotRelative=Cc;jt.convert=e=>e;var $n=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:i=!1}={}){xd(this,Oc,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=i,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Oc]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(Ad(t)){let r=Bd(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Rc(Fn(t)?Rd(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let i=!1,n=!1;return this._rules.forEach(a=>{let{negative:o}=a;if(n===o&&i!==n||o&&!i&&!n&&!r)return;a.regex.test(t)&&(i=!o,n=o)}),{ignored:i,unignored:n}}_test(t,r,i,n){let a=t&&jt.convert(t);return jt(a,t,this._allowRelativePaths?Dc:Od),this._t(a,r,i,n)}_t(t,r,i,n){if(t in r)return r[t];if(n||(n=t.split(Rn)),n.pop(),!n.length)return r[t]=this._testOne(t,i);let a=this._t(n.join(Rn)+Rn,r,i,n);return r[t]=a.ignored?a:this._testOne(t,i)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Rc(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Xr=e=>new $n(e),$d=e=>jt(e&&jt.convert(e),e,Dc);Xr.isPathValid=$d;Xr.default=Xr;Nc.exports=Xr;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");jt.convert=e;let t=/^[a-z]:\//i;jt.isNotRelative=r=>t.test(r)||Cc(r)}});var Mc=$((xm,Pc)=>{"use strict";T();function Fd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $t(e,t,r){return t=t instanceof RegExp?t:new RegExp(Fd(t),"g"),e.replace(t,r)}var Dd={clean:function(t){if(typeof t!="string")throw new Error("Expected a string, received: "+t);return t=$t(t,"./","/"),t=$t(t,"..","."),t=$t(t," ","-"),t=$t(t,/^[~^:?*\\\-]/g,""),t=$t(t,/[~^:?*\\]/g,"-"),t=$t(t,/[~^:?*\\\-]$/g,""),t=$t(t,"@{","-"),t=$t(t,/\.$/g,""),t=$t(t,/\/$/g,""),t=$t(t,/\.lock$/g,""),t}};Pc.exports=Dd});var jc=$((km,zc)=>{T();zc.exports=function(e,t){var r=e,i=t,n=r.length,a=i.length,o=!1,s=null,l=n+1,c=[],f=[],u=[],h="",d=-1,g=0,v=1,y,p,m=function(){n>=a&&(y=r,p=n,r=i,i=y,n=a,a=p,o=!0,l=n+1)},k=function(w,R,b){return{x:w,y:R,k:b}},E=function(w,R){return{elem:w,t:R}},_=function(w,R,b){var B,S,O;for(R>b?B=c[w-1+l]:B=c[w+1+l],O=Math.max(R,b),S=O-w;S<n&&O<a&&r[S]===i[O];)++S,++O;return c[w+l]=f.length,f[f.length]=new k(S,O,B),O},A=function(w){var R,b,B,S,O;for(R=b=1,B=S=0,O=w.length-1;O>=0;--O)for(;B<w[O].x||S<w[O].y;)w[O].y-w[O].x>S-B?(o?u[u.length]=new E(i[S],d):u[u.length]=new E(i[S],v),++b,++S):w[O].y-w[O].x<S-B?(o?u[u.length]=new E(r[B],v):u[u.length]=new E(r[B],d),++R,++B):(u[u.length]=new E(r[B],g),h+=r[B],++R,++b,++B,++S)};return m(),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return s},getlcs:function(){return h},getses:function(){return u},compose:function(){var w,R,b,B,S,O,F,P;for(w=a-n,R=n+a+3,b={},F=0;F<R;++F)b[F]=-1,c[F]=-1;B=-1;do{for(++B,P=-B;P<=w-1;++P)b[P+l]=_(P,b[P-1+l]+1,b[P+1+l]);for(P=w+B;P>=w+1;--P)b[P+l]=_(P,b[P-1+l]+1,b[P+1+l]);b[w+l]=_(w,b[w-1+l]+1,b[w+1+l])}while(b[w+l]!==a);for(s=w+2*B,S=c[w+l],O=[];S!==-1;)O[O.length]=new k(f[S].x,f[S].y,null),S=f[S].k;A(O)}}}});var qc=$((Im,Hc)=>{T();var Cd=jc();function Nd(e,t){var r=new Cd(e,t);r.compose();for(var i=r.getses(),n,a,o=e.length-1,s=t.length-1,l=i.length-1;l>=0;--l)i[l].t===r.SES_COMMON?(a?(a.chain={file1index:o,file2index:s,chain:null},a=a.chain):(n={file1index:o,file2index:s,chain:null},a=n),o--,s--):i[l].t===r.SES_DELETE?o--:i[l].t===r.SES_ADD&&s--;var c={file1index:-1,file2index:-1,chain:null};return a?(a.chain=c,n):c}function Lc(e,t){for(var r=[],i=e.length,n=t.length,a=Nd(e,t);a!==null;a=a.chain){var o=i-a.file1index-1,s=n-a.file2index-1;i=a.file1index,n=a.file2index,(o||s)&&r.push({file1:[i+1,o],file2:[n+1,s]})}return r.reverse(),r}function Ud(e,t,r){var i,n=Lc(t,e),a=Lc(t,r),o=[];function s(F,P){o.push([F.file1[0],P,F.file1[1],F.file2[0],F.file2[1]])}for(i=0;i<n.length;i++)s(n[i],0);for(i=0;i<a.length;i++)s(a[i],2);o.sort(function(F,P){return F[0]-P[0]});var l=[],c=0;function f(F){F>c&&(l.push([1,c,F-c]),c=F)}for(var u=0;u<o.length;u++){for(var h=u,d=o[u],g=d[0],v=g+d[2];u<o.length-1;){var y=o[u+1],p=y[0];if(p>v)break;v=Math.max(v,p+y[2]),u++}if(f(g),h==u)d[4]>0&&l.push([d[1],d[3],d[4]]);else{var m={0:[e.length,-1,t.length,-1],2:[r.length,-1,t.length,-1]};for(i=h;i<=u;i++){d=o[i];var k=d[1],E=m[k],_=d[0],A=_+d[2],w=d[3],R=w+d[4];E[0]=Math.min(w,E[0]),E[1]=Math.max(R,E[1]),E[2]=Math.min(_,E[2]),E[3]=Math.max(A,E[3])}var b=m[0][0]+(g-m[0][2]),B=m[0][1]+(v-m[0][3]),S=m[2][0]+(g-m[2][2]),O=m[2][1]+(v-m[2][3]);l.push([-1,b,B-b,g,v-g,S,O-S])}c=v}return f(t.length),l}function Pd(e,t,r){var i=[],n=[e,t,r],a=Ud(e,t,r),o=[];function s(){o.length&&i.push({ok:o}),o=[]}function l(d){for(var g=0;g<d.length;g++)o.push(d[g])}function c(d){if(d[2]!=d[6])return!0;for(var g=d[1],v=d[5],y=0;y<d[2];y++)if(e[y+g]!=r[y+v])return!0;return!1}for(var f=0;f<a.length;f++){var u=a[f],h=u[0];h==-1?c(u)?(s(),i.push({conflict:{a:e.slice(u[1],u[1]+u[2]),aIndex:u[1],o:t.slice(u[3],u[3]+u[4]),oIndex:u[3],b:r.slice(u[5],u[5]+u[6]),bIndex:u[5]}})):l(n[0].slice(u[1],u[1]+u[2])):l(n[h].slice(u[1],u[1]+u[2]))}return s(),i}Hc.exports=Pd});T();var Pi={id:"acode.git",name:"Git",main:"dist/main.js",version:"1.0.0",readme:"readme.md",icon:"icon.png",files:[],price:0,author:{name:"Raunak",email:"bajrangcoders@gmail.com",github:"bajrangCoder"}};var Lf=xt(Eo());T();var wr=xt(To(),1),mf=xt(No(),1),_f=xt(Po(),1),yi=xt(Sc(),1),Vr=xt(Ac(),1),gf=xt(Uc(),1),Ln=xt(Mc(),1),Md=xt(qc(),1),U=class e extends Error{constructor(t){super(t),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(t){let r=new e(t.message);return r.code=t.code,r.data=t.data,r.caller=t.caller,r.stack=t.stack,r}get isIsomorphicGitError(){return!0}},Jr=class e extends U{constructor(t){super(`Modifying the index is not possible because you have unmerged files: ${t.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=e.code,this.data={filepaths:t}}};Jr.code="UnmergedPathsError";var D=class e extends U{constructor(t){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${t}`),this.code=this.name=e.code,this.data={message:t}}};D.code="InternalError";var pr=class e extends U{constructor(t){super(`The filepath "${t}" contains unsafe character sequences`),this.code=this.name=e.code,this.data={filepath:t}}};pr.code="UnsafeFilepathError";var pt=class{constructor(t){this.buffer=t,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(t){this._start=t}slice(t){let r=this.buffer.slice(this._start,this._start+t);return this._start+=t,r}toString(t,r){let i=this.buffer.toString(t,this._start,this._start+r);return this._start+=r,i}write(t,r,i){let n=this.buffer.write(t,this._start,r,i);return this._start+=r,n}copy(t,r,i){let n=t.copy(this.buffer,this._start,r,i);return this._start+=n,n}readUInt8(){let t=this.buffer.readUInt8(this._start);return this._start+=1,t}writeUInt8(t){let r=this.buffer.writeUInt8(t,this._start);return this._start+=1,r}readUInt16BE(){let t=this.buffer.readUInt16BE(this._start);return this._start+=2,t}writeUInt16BE(t){let r=this.buffer.writeUInt16BE(t,this._start);return this._start+=2,r}readUInt32BE(){let t=this.buffer.readUInt32BE(this._start);return this._start+=4,t}writeUInt32BE(t){let r=this.buffer.writeUInt32BE(t,this._start);return this._start+=4,r}};function bi(e,t){return-(e<t)||+(e>t)}function yf(e,t){return bi(e.path,t.path)}function bf(e){let t=e>0?e>>12:0;t!==4&&t!==8&&t!==10&&t!==14&&(t=8);let r=e&511;return r&73?r=493:r=420,t!==8&&(r=0),(t<<12)+r}var Ft=2**32;function Zc(e,t,r,i){if(e!==void 0&&t!==void 0)return[e,t];r===void 0&&(r=i.valueOf());let n=Math.floor(r/1e3),a=(r-n*1e3)*1e6;return[n,a]}function Me(e){let[t,r]=Zc(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[i,n]=Zc(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:t%Ft,ctimeNanoseconds:r%Ft,mtimeSeconds:i%Ft,mtimeNanoseconds:n%Ft,dev:e.dev%Ft,ino:e.ino%Ft,mode:bf(e.mode%Ft),uid:e.uid%Ft,gid:e.gid%Ft,size:e.size>-1?e.size%Ft:0}}function zd(e){let t="";for(let r of new Uint8Array(e))r<16&&(t+="0"),t+=r.toString(16);return t}var Dn=null;async function we(e){return Dn===null&&(Dn=await Ld()),Dn?vf(e):jd(e)}function jd(e){return new mf.default().update(e).digest("hex")}async function vf(e){let t=await crypto.subtle.digest("SHA-1",e);return zd(t)}async function Ld(){try{if(await vf(new Uint8Array([]))==="da39a3ee5e6b4b0d3255bfef95601890afd80709")return!0}catch{}return!1}function Hd(e){return{assumeValid:!!(e&32768),extended:!!(e&16384),stage:(e&12288)>>12,nameLength:e&4095}}function qd(e){let t=e.flags;return t.extended=!1,t.nameLength=Math.min(I.Buffer.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((t.stage&3)<<12)+(t.nameLength&4095)}var Hn=class e{constructor(t,r){this._dirty=!1,this._unmergedPaths=r||new Set,this._entries=t||new Map}_addEntry(t){if(t.flags.stage===0)t.stages=[t],this._entries.set(t.path,t),this._unmergedPaths.delete(t.path);else{let r=this._entries.get(t.path);r||(this._entries.set(t.path,t),r=t),r.stages[t.flags.stage]=t,this._unmergedPaths.add(t.path)}}static async from(t){if(I.Buffer.isBuffer(t))return e.fromBuffer(t);if(t===null)return new e(null);throw new D("invalid type passed to GitIndex.from")}static async fromBuffer(t){if(t.length===0)throw new D("Index file is empty (.git/index)");let r=new e,i=new pt(t),n=i.toString("utf8",4);if(n!=="DIRC")throw new D(`Invalid dircache magic file number: ${n}`);let a=await we(t.slice(0,-20)),o=t.slice(-20).toString("hex");if(o!==a)throw new D(`Invalid checksum in GitIndex buffer: expected ${o} but saw ${a}`);let s=i.readUInt32BE();if(s!==2)throw new D(`Unsupported dircache version: ${s}`);let l=i.readUInt32BE(),c=0;for(;!i.eof()&&c<l;){let f={};f.ctimeSeconds=i.readUInt32BE(),f.ctimeNanoseconds=i.readUInt32BE(),f.mtimeSeconds=i.readUInt32BE(),f.mtimeNanoseconds=i.readUInt32BE(),f.dev=i.readUInt32BE(),f.ino=i.readUInt32BE(),f.mode=i.readUInt32BE(),f.uid=i.readUInt32BE(),f.gid=i.readUInt32BE(),f.size=i.readUInt32BE(),f.oid=i.slice(20).toString("hex");let u=i.readUInt16BE();f.flags=Hd(u);let h=t.indexOf(0,i.tell()+1)-i.tell();if(h<1)throw new D(`Got a path length of: ${h}`);if(f.path=i.toString("utf8",h),f.path.includes("..\\")||f.path.includes("../"))throw new pr(f.path);let d=8-(i.tell()-12)%8;for(d===0&&(d=8);d--;){let g=i.readUInt8();if(g!==0)throw new D(`Expected 1-8 null characters but got '${g}' after ${f.path}`);if(i.eof())throw new D("Unexpected end of file")}f.stages=[],r._addEntry(f),c++}return r}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(yf)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(t=>t.stages.length>1?t.stages.filter(r=>r):t)}*[Symbol.iterator](){for(let t of this.entries)yield t}insert({filepath:t,stats:r,oid:i,stage:n=0}){r||(r={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),r=Me(r);let a=I.Buffer.from(t),o={ctimeSeconds:r.ctimeSeconds,ctimeNanoseconds:r.ctimeNanoseconds,mtimeSeconds:r.mtimeSeconds,mtimeNanoseconds:r.mtimeNanoseconds,dev:r.dev,ino:r.ino,mode:r.mode||33188,uid:r.uid,gid:r.gid,size:r.size,path:t,oid:i,flags:{assumeValid:!1,extended:!1,stage:n,nameLength:a.length<4095?a.length:4095},stages:[]};this._addEntry(o),this._dirty=!0}delete({filepath:t}){if(this._entries.has(t))this._entries.delete(t);else for(let r of this._entries.keys())r.startsWith(t+"/")&&this._entries.delete(r);this._unmergedPaths.has(t)&&this._unmergedPaths.delete(t),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:t}){return this._entries.has(t)}render(){return this.entries.map(t=>`${t.mode.toString(8)} ${t.oid}    ${t.path}`).join(`
`)}static async _entryToBuffer(t){let r=I.Buffer.from(t.path),i=Math.ceil((62+r.length+1)/8)*8,n=I.Buffer.alloc(i),a=new pt(n),o=Me(t);return a.writeUInt32BE(o.ctimeSeconds),a.writeUInt32BE(o.ctimeNanoseconds),a.writeUInt32BE(o.mtimeSeconds),a.writeUInt32BE(o.mtimeNanoseconds),a.writeUInt32BE(o.dev),a.writeUInt32BE(o.ino),a.writeUInt32BE(o.mode),a.writeUInt32BE(o.uid),a.writeUInt32BE(o.gid),a.writeUInt32BE(o.size),a.write(t.oid,20,"hex"),a.writeUInt16BE(qd(t)),a.write(t.path,r.length,"utf8"),n}async toObject(){let t=I.Buffer.alloc(12),r=new pt(t);r.write("DIRC",4,"utf8"),r.writeUInt32BE(2),r.writeUInt32BE(this.entriesFlat.length);let i=[];for(let s of this.entries)if(i.push(e._entryToBuffer(s)),s.stages.length>1)for(let l of s.stages)l&&l!==s&&i.push(e._entryToBuffer(l));i=await Promise.all(i);let n=I.Buffer.concat(i),a=I.Buffer.concat([t,n]),o=await we(a);return I.Buffer.concat([a,I.Buffer.from(o,"hex")])}};function qn(e,t,r=!0,i=!0){let n=Me(e),a=Me(t);return r&&n.mode!==a.mode||n.mtimeSeconds!==a.mtimeSeconds||n.ctimeSeconds!==a.ctimeSeconds||n.uid!==a.uid||n.gid!==a.gid||i&&n.ino!==a.ino||n.size!==a.size}var Cn=null,Ue=Symbol("IndexCache");function Zd(){return{map:new Map,stats:new Map}}async function Gd(e,t,r){let i=await e.lstat(t),n=await e.read(t),a=await Hn.from(n);r.map.set(t,a),r.stats.set(t,i)}async function Wd(e,t,r){let i=r.stats.get(t);if(i===void 0)return!0;let n=await e.lstat(t);return i===null||n===null?!1:qn(i,n)}var Ht=class{static async acquire({fs:t,gitdir:r,cache:i,allowUnmerged:n=!0},a){i[Ue]||(i[Ue]=Zd());let o=`${r}/index`;Cn===null&&(Cn=new wr.default({maxPending:1/0}));let s,l=[];return await Cn.acquire(o,async()=>{await Wd(t,o,i[Ue])&&await Gd(t,o,i[Ue]);let c=i[Ue].map.get(o);if(l=c.unmergedPaths,l.length&&!n)throw new Jr(l);if(s=await a(c),c._dirty){let f=await c.toObject();await t.write(o,f),i[Ue].stats.set(o,await t.lstat(o)),c._dirty=!1}}),s}};function Zn(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function mr(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t===-1?".":t===0?"/":e.slice(0,t)}function xf(e){let t=new Map,r=function(n){if(!t.has(n)){let a={type:"tree",fullpath:n,basename:Zn(n),metadata:{},children:[]};t.set(n,a),a.parent=r(mr(n)),a.parent&&a.parent!==a&&a.parent.children.push(a)}return t.get(n)},i=function(n,a){if(!t.has(n)){let o={type:"blob",fullpath:n,basename:Zn(n),metadata:a,parent:r(mr(n)),children:[]};o.parent&&o.parent.children.push(o),t.set(n,o)}return t.get(n)};r(".");for(let n of e)i(n.path,n);return t}function Xd(e){switch(e){case 16384:return"tree";case 33188:return"blob";case 33261:return"blob";case 40960:return"blob";case 57344:return"commit"}throw new D(`Unexpected GitTree entry mode: ${e.toString(8)}`)}var Gn=class{constructor({fs:t,gitdir:r,cache:i}){this.treePromise=Ht.acquire({fs:t,gitdir:r,cache:i},async function(a){return xf(a.entries)});let n=this;this.ConstructEntry=class{constructor(o){this._fullpath=o,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return n.type(this)}async mode(){return n.mode(this)}async stat(){return n.stat(this)}async content(){return n.content(this)}async oid(){return n.oid(this)}}}async readdir(t){let r=t._fullpath,n=(await this.treePromise).get(r);if(!n||n.type==="blob")return null;if(n.type!=="tree")throw new Error(`ENOTDIR: not a directory, scandir '${r}'`);let a=n.children.map(o=>o.fullpath);return a.sort(bi),a}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let i=(await this.treePromise).get(t._fullpath);if(!i)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let n=i.type==="tree"?{}:Me(i.metadata);t._type=i.type==="tree"?"tree":Xd(n.mode),t._mode=n.mode,i.type==="tree"?t._stat=void 0:t._stat=n}return t._stat}async content(t){}async oid(t){if(t._oid===!1){let i=(await this.treePromise).get(t._fullpath);t._oid=i.metadata.oid}return t._oid}},vi=Symbol("GitWalkSymbol");function Yd(){let e=Object.create(null);return Object.defineProperty(e,vi,{value:function({fs:t,gitdir:r,cache:i}){return new Gn({fs:t,gitdir:r,cache:i})}}),Object.freeze(e),e}var nt=class e extends U{constructor(t){super(`Could not find ${t}.`),this.code=this.name=e.code,this.data={what:t}}};nt.code="NotFoundError";var pe=class e extends U{constructor(t,r,i,n){super(`Object ${t} ${n?`at ${n}`:""}was anticipated to be a ${i} but it is a ${r}.`),this.code=this.name=e.code,this.data={oid:t,actual:r,expected:i,filepath:n}}};pe.code="ObjectTypeError";var me=class e extends U{constructor(t){super(`Expected a 40-char hex object id but saw "${t}".`),this.code=this.name=e.code,this.data={value:t}}};me.code="InvalidOidError";var Qr=class e extends U{constructor(t){super(`Could not find a fetch refspec for remote "${t}". Make sure the config file has an entry like the following:
[remote "${t}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=e.code,this.data={remote:t}}};Qr.code="NoRefspecError";var ti=class e{constructor(t){if(this.refs=new Map,this.parsedConfig=[],t){let r=null;this.parsedConfig=t.trim().split(`
`).map(i=>{if(/^\s*#/.test(i))return{line:i,comment:!0};let n=i.indexOf(" ");if(i.startsWith("^")){let a=i.slice(1);return this.refs.set(r+"^{}",a),{line:i,ref:r,peeled:a}}else{let a=i.slice(0,n);return r=i.slice(n+1),this.refs.set(r,a),{line:i,ref:r,oid:a}}})}return this}static from(t){return new e(t)}delete(t){this.parsedConfig=this.parsedConfig.filter(r=>r.ref!==t),this.refs.delete(t)}toString(){return this.parsedConfig.map(({line:t})=>t).join(`
`)+`
`}},ei=class e{constructor({remotePath:t,localPath:r,force:i,matchPrefix:n}){Object.assign(this,{remotePath:t,localPath:r,force:i,matchPrefix:n})}static from(t){let[r,i,n,a,o]=t.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),s=r==="+",l=n==="*";if(l!==(o==="*"))throw new D("Invalid refspec");return new e({remotePath:i,localPath:a,force:s,matchPrefix:l})}translate(t){if(this.matchPrefix){if(t.startsWith(this.remotePath))return this.localPath+t.replace(this.remotePath,"")}else if(t===this.remotePath)return this.localPath;return null}reverseTranslate(t){if(this.matchPrefix){if(t.startsWith(this.localPath))return this.remotePath+t.replace(this.localPath,"")}else if(t===this.localPath)return this.remotePath;return null}},Wn=class e{constructor(t=[]){this.rules=t}static from(t){let r=[];for(let i of t)r.push(ei.from(i));return new e(r)}add(t){let r=ei.from(t);this.rules.push(r)}translate(t){let r=[];for(let i of this.rules)for(let n of t){let a=i.translate(n);a&&r.push([n,a])}return r}translateOne(t){let r=null;for(let i of this.rules){let n=i.translate(t);n&&(r=n)}return r}localNamespaces(){return this.rules.filter(t=>t.matchPrefix).map(t=>t.localPath.replace(/\/$/,""))}};function Kd(e,t){let r=e.replace(/\^\{\}$/,""),i=t.replace(/\^\{\}$/,""),n=-(r<i)||+(r>i);return n===0?e.endsWith("^{}")?1:-1:n}var Gc=new Map;function Wc(e){let t=Gc.get(e);return t||(t=Vd(e),Gc.set(e,t)),t}function Vd(e){return e=e.split("/./").join("/").replace(/\/{2,}/g,"/"),e==="/."?"/":e==="./"||(e.startsWith("./")&&(e=e.slice(2)),e.endsWith("/.")&&(e=e.slice(0,-2)),e.length>1&&e.endsWith("/")&&(e=e.slice(0,-1)),e==="")?".":e}function z(...e){return Wc(e.map(Wc).join("/"))}var Jd=e=>{e=e.toLowerCase();let t=parseInt(e);return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1024*1024),e.endsWith("g")&&(t*=1024*1024*1024),t},dr=e=>{if(e=e.trim().toLowerCase(),e==="true"||e==="yes"||e==="on")return!0;if(e==="false"||e==="no"||e==="off")return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${e}`)},Xc={core:{filemode:dr,bare:dr,logallrefupdates:dr,symlinks:dr,ignorecase:dr,bigFileThreshold:Jd}},Qd=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,t0=/^[A-Za-z0-9-.]+$/,e0=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,r0=/^[A-Za-z][A-Za-z-]*$/,i0=/^(.*?)( *[#;].*)$/,n0=e=>{let t=Qd.exec(e);if(t!=null){let[r,i]=t.slice(1);return[r,i]}return null},a0=e=>{let t=e0.exec(e);if(t!=null){let[r,i="true"]=t.slice(1),n=o0(i),a=s0(n);return[r,a]}return null},o0=e=>{let t=i0.exec(e);if(t==null)return e;let[r,i]=t.slice(1);return Yc(r)&&Yc(i)?`${r}${i}`:r},Yc=e=>(e.match(/(?:^|[^\\])"/g)||[]).length%2!==0,s0=e=>e.split("").reduce((t,r,i,n)=>{let a=r==='"'&&n[i-1]!=="\\",o=r==="\\"&&n[i+1]==='"';return a||o?t:t+r},""),Kc=e=>e!=null?e.toLowerCase():null,Xn=(e,t,r)=>[Kc(e),t,Kc(r)].filter(i=>i!=null).join("."),Vc=e=>{let t=e.split("."),r=t.shift(),i=t.pop(),n=t.length?t.join("."):void 0;return{section:r,subsection:n,name:i,path:Xn(r,n,i),sectionPath:Xn(r,n,null)}},c0=(e,t)=>e.reduce((r,i,n)=>t(i)?n:r,-1),Yn=class e{constructor(t){let r=null,i=null;this.parsedConfig=t?t.split(`
`).map(n=>{let a=null,o=null,s=n.trim(),l=n0(s),c=l!=null;if(c)[r,i]=l;else{let u=a0(s);u!=null&&([a,o]=u)}let f=Xn(r,i,a);return{line:n,isSection:c,section:r,subsection:i,name:a,value:o,path:f}}):[]}static from(t){return new e(t)}async get(t,r=!1){let i=Vc(t).path,n=this.parsedConfig.filter(a=>a.path===i).map(({section:a,name:o,value:s})=>{let l=Xc[a]&&Xc[a][o];return l?l(s):s});return r?n:n.pop()}async getall(t){return this.get(t,!0)}async getSubsections(t){return this.parsedConfig.filter(r=>r.section===t&&r.isSection).map(r=>r.subsection)}async deleteSection(t,r){this.parsedConfig=this.parsedConfig.filter(i=>!(i.section===t&&i.subsection===r))}async append(t,r){return this.set(t,r,!0)}async set(t,r,i=!1){let{section:n,subsection:a,name:o,path:s,sectionPath:l}=Vc(t),c=c0(this.parsedConfig,f=>f.path===s);if(r==null)c!==-1&&this.parsedConfig.splice(c,1);else if(c!==-1){let f=this.parsedConfig[c],u=Object.assign({},f,{name:o,value:r,modified:!0});i?this.parsedConfig.splice(c+1,0,u):this.parsedConfig[c]=u}else{let f=this.parsedConfig.findIndex(h=>h.path===l),u={section:n,subsection:a,name:o,value:r,modified:!0,path:s};if(t0.test(n)&&r0.test(o))if(f>=0)this.parsedConfig.splice(f+1,0,u);else{let h={section:n,subsection:a,modified:!0,path:l};this.parsedConfig.push(h,u)}}}toString(){return this.parsedConfig.map(({line:t,section:r,subsection:i,name:n,value:a,modified:o=!1})=>o?n!=null&&a!=null?typeof a=="string"&&/[#;]/.test(a)?`	${n} = "${a}"`:`	${n} = ${a}`:i!=null?`[${r} "${i}"]`:`[${r}]`:t).join(`
`)}},at=class{static async get({fs:t,gitdir:r}){let i=await t.read(`${r}/config`,{encoding:"utf8"});return Yn.from(i)}static async save({fs:t,gitdir:r,config:i}){await t.write(`${r}/config`,i.toString(),{encoding:"utf8"})}},Yr=e=>[`${e}`,`refs/${e}`,`refs/tags/${e}`,`refs/heads/${e}`,`refs/remotes/${e}`,`refs/remotes/${e}/HEAD`],f0=["config","description","index","shallow","commondir"],Nn;async function Jt(e,t){return Nn===void 0&&(Nn=new wr.default),Nn.acquire(e,t)}var H=class e{static async updateRemoteRefs({fs:t,gitdir:r,remote:i,refs:n,symrefs:a,tags:o,refspecs:s=void 0,prune:l=!1,pruneTags:c=!1}){for(let y of n.values())if(!y.match(/[0-9a-f]{40}/))throw new me(y);let f=await at.get({fs:t,gitdir:r});if(!s){if(s=await f.getall(`remote.${i}.fetch`),s.length===0)throw new Qr(i);s.unshift(`+HEAD:refs/remotes/${i}/HEAD`)}let u=Wn.from(s),h=new Map;if(c){let y=await e.listRefs({fs:t,gitdir:r,filepath:"refs/tags"});await e.deleteRefs({fs:t,gitdir:r,refs:y.map(p=>`refs/tags/${p}`)})}if(o){for(let y of n.keys())if(y.startsWith("refs/tags")&&!y.endsWith("^{}")&&!await e.exists({fs:t,gitdir:r,ref:y})){let p=n.get(y);h.set(y,p)}}let d=u.translate([...n.keys()]);for(let[y,p]of d){let m=n.get(y);h.set(p,m)}let g=u.translate([...a.keys()]);for(let[y,p]of g){let m=a.get(y),k=u.translateOne(m);k&&h.set(p,`ref: ${k}`)}let v=[];if(l){for(let y of u.localNamespaces()){let p=(await e.listRefs({fs:t,gitdir:r,filepath:y})).map(m=>`${y}/${m}`);for(let m of p)h.has(m)||v.push(m)}v.length>0&&await e.deleteRefs({fs:t,gitdir:r,refs:v})}for(let[y,p]of h)await Jt(y,async()=>t.write(z(r,y),`${p.trim()}
`,"utf8"));return{pruned:v}}static async writeRef({fs:t,gitdir:r,ref:i,value:n}){if(!n.match(/[0-9a-f]{40}/))throw new me(n);await Jt(i,async()=>t.write(z(r,i),`${n.trim()}
`,"utf8"))}static async writeSymbolicRef({fs:t,gitdir:r,ref:i,value:n}){await Jt(i,async()=>t.write(z(r,i),`ref: ${n.trim()}
`,"utf8"))}static async deleteRef({fs:t,gitdir:r,ref:i}){return e.deleteRefs({fs:t,gitdir:r,refs:[i]})}static async deleteRefs({fs:t,gitdir:r,refs:i}){await Promise.all(i.map(s=>t.rm(z(r,s))));let n=await Jt("packed-refs",async()=>t.read(`${r}/packed-refs`,{encoding:"utf8"})),a=ti.from(n),o=a.refs.size;for(let s of i)a.refs.has(s)&&a.delete(s);a.refs.size<o&&(n=a.toString(),await Jt("packed-refs",async()=>t.write(`${r}/packed-refs`,n,{encoding:"utf8"})))}static async resolve({fs:t,gitdir:r,ref:i,depth:n=void 0}){if(n!==void 0&&(n--,n===-1))return i;if(i.startsWith("ref: "))return i=i.slice(5),e.resolve({fs:t,gitdir:r,ref:i,depth:n});if(i.length===40&&/[0-9a-f]{40}/.test(i))return i;let a=await e.packedRefs({fs:t,gitdir:r}),o=Yr(i).filter(s=>!f0.includes(s));for(let s of o){let l=await Jt(s,async()=>await t.read(`${r}/${s}`,{encoding:"utf8"})||a.get(s));if(l)return e.resolve({fs:t,gitdir:r,ref:l.trim(),depth:n})}throw new nt(i)}static async exists({fs:t,gitdir:r,ref:i}){try{return await e.expand({fs:t,gitdir:r,ref:i}),!0}catch{return!1}}static async expand({fs:t,gitdir:r,ref:i}){if(i.length===40&&/[0-9a-f]{40}/.test(i))return i;let n=await e.packedRefs({fs:t,gitdir:r}),a=Yr(i);for(let o of a)if(await Jt(o,async()=>t.exists(`${r}/${o}`))||n.has(o))return o;throw new nt(i)}static async expandAgainstMap({ref:t,map:r}){let i=Yr(t);for(let n of i)if(await r.has(n))return n;throw new nt(t)}static resolveAgainstMap({ref:t,fullref:r=t,depth:i=void 0,map:n}){if(i!==void 0&&(i--,i===-1))return{fullref:r,oid:t};if(t.startsWith("ref: "))return t=t.slice(5),e.resolveAgainstMap({ref:t,fullref:r,depth:i,map:n});if(t.length===40&&/[0-9a-f]{40}/.test(t))return{fullref:r,oid:t};let a=Yr(t);for(let o of a){let s=n.get(o);if(s)return e.resolveAgainstMap({ref:s.trim(),fullref:o,depth:i,map:n})}throw new nt(t)}static async packedRefs({fs:t,gitdir:r}){let i=await Jt("packed-refs",async()=>t.read(`${r}/packed-refs`,{encoding:"utf8"}));return ti.from(i).refs}static async listRefs({fs:t,gitdir:r,filepath:i}){let n=e.packedRefs({fs:t,gitdir:r}),a=null;try{a=await t.readdirDeep(`${r}/${i}`),a=a.map(o=>o.replace(`${r}/${i}/`,""))}catch{a=[]}for(let o of(await n).keys())o.startsWith(i)&&(o=o.replace(i+"/",""),a.includes(o)||a.push(o));return a.sort(Kd),a}static async listBranches({fs:t,gitdir:r,remote:i}){return i?e.listRefs({fs:t,gitdir:r,filepath:`refs/remotes/${i}`}):e.listRefs({fs:t,gitdir:r,filepath:"refs/heads"})}static async listTags({fs:t,gitdir:r}){return(await e.listRefs({fs:t,gitdir:r,filepath:"refs/tags"})).filter(n=>!n.endsWith("^{}"))}};function l0(e,t){return bi(Jc(e),Jc(t))}function Jc(e){return e.mode==="040000"?e.path+"/":e.path}function Ef(e){switch(e){case"040000":return"tree";case"100644":return"blob";case"100755":return"blob";case"120000":return"blob";case"160000":return"commit"}throw new D(`Unexpected GitTree entry mode: ${e}`)}function u0(e){let t=[],r=0;for(;r<e.length;){let i=e.indexOf(32,r);if(i===-1)throw new D(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next space character.`);let n=e.indexOf(0,r);if(n===-1)throw new D(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next null character.`);let a=e.slice(r,i).toString("utf8");a==="40000"&&(a="040000");let o=Ef(a),s=e.slice(i+1,n).toString("utf8");if(s.includes("\\")||s.includes("/"))throw new pr(s);let l=e.slice(n+1,n+21).toString("hex");r=n+21,t.push({mode:a,path:s,oid:l,type:o})}return t}function h0(e){if(typeof e=="number"&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new D(`Could not understand file mode: ${e}`)}function d0(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=h0(e.mode),e.type||(e.type=Ef(e.mode)),e}var Qt=class e{constructor(t){if(I.Buffer.isBuffer(t))this._entries=u0(t);else if(Array.isArray(t))this._entries=t.map(d0);else throw new D("invalid type passed to GitTree constructor");this._entries.sort(yf)}static from(t){return new e(t)}render(){return this._entries.map(t=>`${t.mode} ${t.type} ${t.oid}    ${t.path}`).join(`
`)}toObject(){let t=[...this._entries];return t.sort(l0),I.Buffer.concat(t.map(r=>{let i=I.Buffer.from(r.mode.replace(/^0/,"")),n=I.Buffer.from(" "),a=I.Buffer.from(r.path,"utf8"),o=I.Buffer.from([0]),s=I.Buffer.from(r.oid,"hex");return I.Buffer.concat([i,n,a,o,s])}))}entries(){return this._entries}*[Symbol.iterator](){for(let t of this._entries)yield t}},ze=class{static wrap({type:t,object:r}){return I.Buffer.concat([I.Buffer.from(`${t} ${r.byteLength.toString()}\0`),I.Buffer.from(r)])}static unwrap(t){let r=t.indexOf(32),i=t.indexOf(0),n=t.slice(0,r).toString("utf8"),a=t.slice(r+1,i).toString("utf8"),o=t.length-(i+1);if(parseInt(a)!==o)throw new D(`Length mismatch: expected ${a} bytes but got ${o} instead.`);return{type:n,object:I.Buffer.from(t.slice(i+1))}}};async function w0({fs:e,gitdir:t,oid:r}){let i=`objects/${r.slice(0,2)}/${r.slice(2)}`,n=await e.read(`${t}/${i}`);return n?{object:n,format:"deflated",source:i}:null}function p0(e,t){let r=new pt(e),i=Qc(r);if(i!==t.byteLength)throw new D(`applyDelta expected source buffer to be ${i} bytes but the provided buffer was ${t.length} bytes`);let n=Qc(r),a,o=ef(r,t);if(o.byteLength===n)a=o;else{a=I.Buffer.alloc(n);let s=new pt(a);for(s.copy(o);!r.eof();)s.copy(ef(r,t));let l=s.tell();if(n!==l)throw new D(`applyDelta expected target buffer to be ${n} bytes but the resulting buffer was ${l} bytes`)}return a}function Qc(e){let t=0,r=0,i=null;do i=e.readUInt8(),t|=(i&127)<<r,r+=7;while(i&128);return t}function tf(e,t,r){let i=0,n=0;for(;r--;)t&1&&(i|=e.readUInt8()<<n),t>>=1,n+=8;return i}function ef(e,t){let r=e.readUInt8(),i=128,n=15,a=112;if(r&i){let o=tf(e,r&n,4),s=tf(e,(r&a)>>4,3);return s===0&&(s=65536),t.slice(o,o+s)}else return e.slice(r)}function m0(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function kf(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:m0(e)}var ri=class{constructor(t){if(typeof I.Buffer>"u")throw new Error("Missing Buffer dependency");this.stream=kf(t),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),!(this.cursor===this.buffer.length&&(await this._loadnext(),this._ended))))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(t){if(!this.eof())return this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t),this.buffer.slice(this.undoCursor,this.cursor)}async skip(t){this.eof()||(this.started||await this._init(),this.cursor+t>this.buffer.length&&(this._trim(),await this._accumulate(t)),this._moveCursor(t))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:t,value:r}=await this.stream.next();return t&&(this._ended=!0,!r)?I.Buffer.alloc(0):(r&&(r=I.Buffer.from(r)),r)}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(t){this.undoCursor=this.cursor,this.cursor+=t,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(t){if(this._ended)return;let r=[this.buffer];for(;this.cursor+t>_0(r);){let i=await this._next();if(this._ended)break;r.push(i)}this.buffer=I.Buffer.concat(r)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}};function _0(e){return e.reduce((t,r)=>t+r.length,0)}async function g0(e,t){let r=new ri(e),i=await r.read(4);if(i=i.toString("utf8"),i!=="PACK")throw new D(`Invalid PACK header '${i}'`);let n=await r.read(4);if(n=n.readUInt32BE(0),n!==2)throw new D(`Invalid packfile version: ${n}`);let a=await r.read(4);if(a=a.readUInt32BE(0),!(a<1))for(;!r.eof()&&a--;){let o=r.tell(),{type:s,length:l,ofs:c,reference:f}=await y0(r),u=new yi.default.Inflate;for(;!u.result;){let h=await r.chunk();if(!h)break;if(u.push(h,!1),u.err)throw new D(`Pako error: ${u.msg}`);if(u.result){if(u.result.length!==l)throw new D("Inflated object size is different from that stated in packfile.");await r.undo(),await r.read(h.length-u.strm.avail_in);let d=r.tell();await t({data:u.result,type:s,num:a,offset:o,end:d,reference:f,ofs:c})}}}}async function y0(e){let t=await e.byte(),r=t>>4&7,i=t&15;if(t&128){let o=4;do t=await e.byte(),i|=(t&127)<<o,o+=7;while(t&128)}let n,a;if(r===6){let o=0;n=0;let s=[];do t=await e.byte(),n|=(t&127)<<o,o+=7,s.push(t);while(t&128);a=I.Buffer.from(s)}return r===7&&(a=await e.read(20)),{type:r,length:i,ofs:n,reference:a}}var Un=!1;async function Sf(e){return Un===null&&(Un=v0()),Un?b0(e):yi.default.inflate(e)}async function b0(e){let t=new DecompressionStream("deflate"),r=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(r).arrayBuffer())}function v0(){try{if(new DecompressionStream("deflate"))return!0}catch{}return!1}function x0(e){let t=[],r=0,i=0;do{r=e.readUInt8();let n=r&127;t.push(n),i=r&128}while(i);return t.reduce((n,a)=>n+1<<7|a,-1)}function E0(e,t){let r=t,i=4,n=null;do n=e.readUInt8(),r|=(n&127)<<i,i+=7;while(n&128);return r}var ii=class e{constructor(t){Object.assign(this,t),this.offsetCache={}}static async fromIdx({idx:t,getExternalRefDelta:r}){let i=new pt(t);if(i.slice(4).toString("hex")!=="ff744f63")return;let a=i.readUInt32BE();if(a!==2)throw new D(`Unable to read version ${a} packfile IDX. (Only version 2 supported)`);if(t.byteLength>2048*1024*1024)throw new D("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");i.seek(i.tell()+4*255);let o=i.readUInt32BE(),s=[];for(let f=0;f<o;f++){let u=i.slice(20).toString("hex");s[f]=u}i.seek(i.tell()+4*o);let l=new Map;for(let f=0;f<o;f++)l.set(s[f],i.readUInt32BE());let c=i.slice(20).toString("hex");return new e({hashes:s,crcs:{},offsets:l,packfileSha:c,getExternalRefDelta:r})}static async fromPack({pack:t,getExternalRefDelta:r,onProgress:i}){let n={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},a={},o=t.slice(-20).toString("hex"),s=[],l={},c=new Map,f=null,u=null;await g0([t],async({data:y,type:p,reference:m,offset:k,num:E})=>{f===null&&(f=E);let _=Math.floor((f-E)*100/f);_!==u&&i&&await i({phase:"Receiving objects",loaded:f-E,total:f}),u=_,p=n[p],["commit","tree","blob","tag"].includes(p)?a[k]={type:p,offset:k}:p==="ofs-delta"?a[k]={type:p,offset:k}:p==="ref-delta"&&(a[k]={type:p,offset:k})});let h=Object.keys(a).map(Number);for(let[y,p]of h.entries()){let m=y+1===h.length?t.byteLength-20:h[y+1],k=a[p],E=_f.default.buf(t.slice(p,m))>>>0;k.end=m,k.crc=E}let d=new e({pack:Promise.resolve(t),packfileSha:o,crcs:l,hashes:s,offsets:c,getExternalRefDelta:r});u=null;let g=0,v=[0,0,0,0,0,0,0,0,0,0,0,0];for(let y in a){y=Number(y);let p=Math.floor(g*100/f);p!==u&&i&&await i({phase:"Resolving deltas",loaded:g,total:f}),g++,u=p;let m=a[y];if(!m.oid)try{d.readDepth=0,d.externalReadDepth=0;let{type:k,object:E}=await d.readSlice({start:y});v[d.readDepth]+=1;let _=await we(ze.wrap({type:k,object:E}));m.oid=_,s.push(_),c.set(_,y),l[_]=m.crc}catch{continue}}return s.sort(),d}async toBuffer(){let t=[],r=(c,f)=>{t.push(I.Buffer.from(c,f))};r("ff744f63","hex"),r("00000002","hex");let i=new pt(I.Buffer.alloc(256*4));for(let c=0;c<256;c++){let f=0;for(let u of this.hashes)parseInt(u.slice(0,2),16)<=c&&f++;i.writeUInt32BE(f)}t.push(i.buffer);for(let c of this.hashes)r(c,"hex");let n=new pt(I.Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)n.writeUInt32BE(this.crcs[c]);t.push(n.buffer);let a=new pt(I.Buffer.alloc(this.hashes.length*4));for(let c of this.hashes)a.writeUInt32BE(this.offsets.get(c));t.push(a.buffer),r(this.packfileSha,"hex");let o=I.Buffer.concat(t),s=await we(o),l=I.Buffer.alloc(20);return l.write(s,"hex"),I.Buffer.concat([o,l])}async load({pack:t}){this.pack=t}async unload(){this.pack=null}async read({oid:t}){if(!this.offsets.get(t)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(t);throw new D(`Could not read object ${t} from packfile`)}let r=this.offsets.get(t);return this.readSlice({start:r})}async readSlice({start:t}){if(this.offsetCache[t])return Object.assign({},this.offsetCache[t]);this.readDepth++;let r={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"};if(!this.pack)throw new D("Tried to read from a GitPackIndex with no packfile loaded into memory");let i=(await this.pack).slice(t),n=new pt(i),a=n.readUInt8(),o=a&112,s=r[o];if(s===void 0)throw new D("Unrecognized type: 0b"+o.toString(2));let l=a&15,c=l;a&128&&(c=E0(n,l));let u=null,h=null;if(s==="ofs_delta"){let g=x0(n),v=t-g;({object:u,type:s}=await this.readSlice({start:v}))}if(s==="ref_delta"){let g=n.slice(20).toString("hex");({object:u,type:s}=await this.read({oid:g}))}let d=i.slice(n.tell());if(h=I.Buffer.from(await Sf(d)),h.byteLength!==c)throw new D(`Packfile told us object would have length ${c} but it had length ${h.byteLength}`);return u&&(h=I.Buffer.from(p0(h,u))),this.readDepth>3&&(this.offsetCache[t]={type:s,object:h}),{type:s,format:"content",object:h}}},Kr=Symbol("PackfileCache");async function k0({fs:e,filename:t,getExternalRefDelta:r,emitter:i,emitterPrefix:n}){let a=await e.read(t);return ii.fromIdx({idx:a,getExternalRefDelta:r})}function If({fs:e,cache:t,filename:r,getExternalRefDelta:i,emitter:n,emitterPrefix:a}){t[Kr]||(t[Kr]=new Map);let o=t[Kr].get(r);return o||(o=k0({fs:e,filename:r,getExternalRefDelta:i,emitter:n,emitterPrefix:a}),t[Kr].set(r,o)),o}async function S0({fs:e,cache:t,gitdir:r,oid:i,format:n="content",getExternalRefDelta:a}){let o=await e.readdir(z(r,"objects/pack"));o=o.filter(s=>s.endsWith(".idx"));for(let s of o){let l=`${r}/objects/pack/${s}`,c=await If({fs:e,cache:t,filename:l,getExternalRefDelta:a});if(c.error)throw new D(c.error);if(c.offsets.has(i)){if(!c.pack){let u=l.replace(/idx$/,"pack");c.pack=e.read(u)}let f=await c.read({oid:i,getExternalRefDelta:a});return f.format="content",f.source=`objects/pack/${s.replace(/idx$/,"pack")}`,f}}return null}async function yt({fs:e,cache:t,gitdir:r,oid:i,format:n="content"}){let a=f=>yt({fs:e,cache:t,gitdir:r,oid:f}),o;if(i==="4b825dc642cb6eb9a060e54bf8d69288fbee4904"&&(o={format:"wrapped",object:I.Buffer.from("tree 0\0")}),o||(o=await w0({fs:e,gitdir:r,oid:i})),!o){if(o=await S0({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:a}),!o)throw new nt(i);return o}if(n==="deflated"||(o.format==="deflated"&&(o.object=I.Buffer.from(await Sf(o.object)),o.format="wrapped"),n==="wrapped"))return o;let s=await we(o.object);if(s!==i)throw new D(`SHA check failed! Expected ${i}, computed ${s}`);let{object:l,type:c}=ze.unwrap(o.object);if(o.type=c,o.object=l,o.format="content",n==="content")return o;throw new D(`invalid requested format "${n}"`)}var ni=class e extends U{constructor(t,r,i=!0){super(`Failed to create ${t} at ${r} because it already exists.${i?` (Hint: use 'force: true' parameter to overwrite existing ${t}.)`:""}`),this.code=this.name=e.code,this.data={noun:t,where:r,canForce:i}}};ni.code="AlreadyExistsError";var Kn=class e extends U{constructor(t,r,i){super(`Found multiple ${t} matching "${r}" (${i.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=e.code,this.data={nouns:t,short:r,matches:i}}};Kn.code="AmbiguousError";var ai=class e extends U{constructor(t){super(`Your local changes to the following files would be overwritten by checkout: ${t.join(", ")}`),this.code=this.name=e.code,this.data={filepaths:t}}};ai.code="CheckoutConflictError";var oi=class e extends U{constructor(t,r){super(`Failed to checkout "${t}" because commit ${r} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=e.code,this.data={ref:t,oid:r}}};oi.code="CommitNotFetchedError";var si=class e extends U{constructor(){super("Empty response from git server."),this.code=this.name=e.code,this.data={}}};si.code="EmptyServerResponseError";var Vn=class e extends U{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=e.code,this.data={}}};Vn.code="FastForwardError";var Jn=class e extends U{constructor(t,r){super(`One or more branches were not updated: ${t}`),this.code=this.name=e.code,this.data={prettyDetails:t,result:r}}};Jn.code="GitPushError";var _r=class e extends U{constructor(t,r,i){super(`HTTP Error: ${t} ${r}`),this.code=this.name=e.code,this.data={statusCode:t,statusMessage:r,response:i}}};_r.code="HttpError";var gr=class e extends U{constructor(t){let r="invalid filepath";t==="leading-slash"||t==="trailing-slash"?r='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':t==="directory"&&(r='"filepath" should not be a directory.'),super(r),this.code=this.name=e.code,this.data={reason:t}}};gr.code="InvalidFilepathError";var ci=class e extends U{constructor(t,r){super(`"${t}" would be an invalid git reference. (Hint: a valid alternative would be "${r}".)`),this.code=this.name=e.code,this.data={ref:t,suggestion:r}}};ci.code="InvalidRefNameError";var Qn=class e extends U{constructor(t){super(`Maximum search depth of ${t} exceeded.`),this.code=this.name=e.code,this.data={depth:t}}};Qn.code="MaxDepthError";var ta=class e extends U{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=e.code,this.data={}}};ta.code="MergeNotSupportedError";var ea=class e extends U{constructor(t,r,i,n){super(`Automatic merge failed with one or more merge conflicts in the following files: ${t.toString()}. Fix conflicts then commit the result.`),this.code=this.name=e.code,this.data={filepaths:t,bothModified:r,deleteByUs:i,deleteByTheirs:n}}};ea.code="MergeConflictError";var yr=class e extends U{constructor(t){super(`No name was provided for ${t} in the argument or in the .git/config file.`),this.code=this.name=e.code,this.data={role:t}}};yr.code="MissingNameError";var je=class e extends U{constructor(t){super(`The function requires a "${t}" parameter but none was provided.`),this.code=this.name=e.code,this.data={parameter:t}}};je.code="MissingParameterError";var fi=class e extends U{constructor(t){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=e.code,this.data={errors:t},this.errors=t}};fi.code="MultipleGitError";var br=class e extends U{constructor(t,r){super(`Expected "${t}" but received "${r}".`),this.code=this.name=e.code,this.data={expected:t,actual:r}}};br.code="ParseError";var ra=class e extends U{constructor(t){let r="";t==="not-fast-forward"?r=" because it was not a simple fast-forward":t==="tag-exists"&&(r=" because tag already exists"),super(`Push rejected${r}. Use "force: true" to override.`),this.code=this.name=e.code,this.data={reason:t}}};ra.code="PushRejectedError";var de=class e extends U{constructor(t,r){super(`Remote does not support the "${t}" so the "${r}" parameter cannot be used.`),this.code=this.name=e.code,this.data={capability:t,parameter:r}}};de.code="RemoteCapabilityError";var li=class e extends U{constructor(t,r){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${t}`),this.code=this.name=e.code,this.data={preview:t,response:r}}};li.code="SmartHttpError";var ui=class e extends U{constructor(t,r,i){super(`Git remote "${t}" uses an unrecognized transport protocol: "${r}"`),this.code=this.name=e.code,this.data={url:t,transport:r,suggestion:i}}};ui.code="UnknownTransportError";var hi=class e extends U{constructor(t){super(`Cannot parse remote URL: "${t}"`),this.code=this.name=e.code,this.data={url:t}}};hi.code="UrlParseError";var di=class e extends U{constructor(){super("The operation was canceled."),this.code=this.name=e.code,this.data={}}};di.code="UserCanceledError";var ia=class e extends U{constructor(t){super(`Could not merge index: Entry for '${t}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged changes.`),this.code=this.name=e.code,this.data={filepath:t}}};ia.code="IndexResetError";var wi=class e extends U{constructor(t){super(`"${t}" does not point to any commit. You're maybe working on a repository with no commits yet. `),this.code=this.name=e.code,this.data={ref:t}}};wi.code="NoCommitError";function na({name:e,email:t,timestamp:r,timezoneOffset:i}){return i=I0(i),`${e} <${t}> ${r} ${i}`}function I0(e){let t=T0(A0(e));e=Math.abs(e);let r=Math.floor(e/60);e-=r*60;let i=String(r),n=String(e);return i.length<2&&(i="0"+i),n.length<2&&(n="0"+n),(t===-1?"-":"+")+i+n}function T0(e){return Math.sign(e)||(Object.is(e,-0)?-1:1)}function A0(e){return e===0?e:-e}function Lt(e){return e=e.replace(/\r/g,""),e=e.replace(/^\n+/,""),e=e.replace(/\n+$/,"")+`
`,e}function pi(e){let[,t,r,i,n]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:t,email:r,timestamp:Number(i),timezoneOffset:R0(n)}}function R0(e){let[,t,r,i]=e.match(/(\+|-)(\d\d)(\d\d)/);return i=(t==="+"?1:-1)*(Number(r)*60+Number(i)),B0(i)}function B0(e){return e===0?e:-e}var mi=class e{constructor(t){if(typeof t=="string")this._tag=t;else if(I.Buffer.isBuffer(t))this._tag=t.toString("utf8");else if(typeof t=="object")this._tag=e.render(t);else throw new D("invalid type passed to GitAnnotatedTag constructor")}static from(t){return new e(t)}static render(t){return`object ${t.object}
type ${t.type}
tag ${t.tag}
tagger ${na(t.tagger)}

${t.message}
${t.gpgsig?t.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf(`

`))}message(){let t=this.withoutSignature();return t.slice(t.indexOf(`

`)+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let t=this.justHeaders().split(`
`),r=[];for(let n of t)n[0]===" "?r[r.length-1]+=`
`+n.slice(1):r.push(n);let i={};for(let n of r){let a=n.slice(0,n.indexOf(" ")),o=n.slice(n.indexOf(" ")+1);Array.isArray(i[a])?i[a].push(o):i[a]=o}return i.tagger&&(i.tagger=pi(i.tagger)),i.committer&&(i.committer=pi(i.committer)),i}withoutSignature(){let t=Lt(this._tag);return t.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1?t:t.slice(0,t.lastIndexOf(`
-----BEGIN PGP SIGNATURE-----`))}gpgsig(){if(this._tag.indexOf(`
-----BEGIN PGP SIGNATURE-----`)===-1)return;let t=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return Lt(t)}payload(){return this.withoutSignature()+`
`}toObject(){return I.Buffer.from(this._tag,"utf8")}static async sign(t,r,i){let n=t.payload(),{signature:a}=await r({payload:n,secretKey:i});a=Lt(a);let o=n+a;return e.from(o)}};function Pn(e){return e.trim().split(`
`).map(t=>" "+t).join(`
`)+`
`}function O0(e){return e.split(`
`).map(t=>t.replace(/^ /,"")).join(`
`)}var _e=class e{constructor(t){if(typeof t=="string")this._commit=t;else if(I.Buffer.isBuffer(t))this._commit=t.toString("utf8");else if(typeof t=="object")this._commit=e.render(t);else throw new D("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:t,signature:r}){let i=e.justHeaders(t),n=e.justMessage(t),a=Lt(i+`
gpgsig`+Pn(r)+`
`+n);return new e(a)}static from(t){return new e(t)}toObject(){return I.Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return e.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(t){return Lt(t.slice(t.indexOf(`

`)+2))}static justHeaders(t){return t.slice(0,t.indexOf(`

`))}parseHeaders(){let t=e.justHeaders(this._commit).split(`
`),r=[];for(let n of t)n[0]===" "?r[r.length-1]+=`
`+n.slice(1):r.push(n);let i={parent:[]};for(let n of r){let a=n.slice(0,n.indexOf(" ")),o=n.slice(n.indexOf(" ")+1);Array.isArray(i[a])?i[a].push(o):i[a]=o}return i.author&&(i.author=pi(i.author)),i.committer&&(i.committer=pi(i.committer)),i}static renderHeaders(t){let r="";if(t.tree?r+=`tree ${t.tree}
`:r+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,t.parent){if(t.parent.length===void 0)throw new D("commit 'parent' property should be an array");for(let a of t.parent)r+=`parent ${a}
`}let i=t.author;r+=`author ${na(i)}
`;let n=t.committer||t.author;return r+=`committer ${na(n)}
`,t.gpgsig&&(r+="gpgsig"+Pn(t.gpgsig)),r}static render(t){return e.renderHeaders(t)+`
`+Lt(t.message)}render(){return this._commit}withoutSignature(){let t=Lt(this._commit);if(t.indexOf(`
gpgsig`)===-1)return t;let r=t.slice(0,t.indexOf(`
gpgsig`)),i=t.slice(t.indexOf(`-----END PGP SIGNATURE-----
`)+28);return Lt(r+`
`+i)}isolateSignature(){let t=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return O0(t)}static async sign(t,r,i){let n=t.withoutSignature(),a=e.justMessage(t._commit),{signature:o}=await r({payload:n,secretKey:i});o=Lt(o);let l=e.justHeaders(t._commit)+`
gpgsig`+Pn(o)+`
`+a;return e.from(l)}};async function vr({fs:e,cache:t,gitdir:r,oid:i}){if(i==="4b825dc642cb6eb9a060e54bf8d69288fbee4904")return{tree:Qt.from([]),oid:i};let{type:n,object:a}=await yt({fs:e,cache:t,gitdir:r,oid:i});if(n==="tag")return i=mi.from(a).parse().object,vr({fs:e,cache:t,gitdir:r,oid:i});if(n==="commit")return i=_e.from(a).parse().tree,vr({fs:e,cache:t,gitdir:r,oid:i});if(n!=="tree")throw new pe(i,n,"tree");return{tree:Qt.from(a),oid:i}}var aa=class{constructor({fs:t,gitdir:r,ref:i,cache:n}){this.fs=t,this.cache=n,this.gitdir=r,this.mapPromise=(async()=>{let o=new Map,s;try{s=await H.resolve({fs:t,gitdir:r,ref:i})}catch(c){c instanceof nt&&(s="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let l=await vr({fs:t,cache:this.cache,gitdir:r,oid:s});return l.type="tree",l.mode="40000",o.set(".",l),o})();let a=this;this.ConstructEntry=class{constructor(s){this._fullpath=s,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let r=t._fullpath,{fs:i,cache:n,gitdir:a}=this,o=await this.mapPromise,s=o.get(r);if(!s)throw new Error(`No obj for ${r}`);let l=s.oid;if(!l)throw new Error(`No oid for obj ${JSON.stringify(s)}`);if(s.type!=="tree")return null;let{type:c,object:f}=await yt({fs:i,cache:n,gitdir:a,oid:l});if(c!==s.type)throw new pe(l,c,s.type);let u=Qt.from(f);for(let h of u)o.set(z(r,h.path),h);return u.entries().map(h=>z(r,h.path))}async type(t){if(t._type===!1){let r=await this.mapPromise,{type:i}=r.get(t._fullpath);t._type=i}return t._type}async mode(t){if(t._mode===!1){let r=await this.mapPromise,{mode:i}=r.get(t._fullpath);t._mode=bf(parseInt(i,8))}return t._mode}async stat(t){}async content(t){if(t._content===!1){let r=await this.mapPromise,{fs:i,cache:n,gitdir:a}=this,s=r.get(t._fullpath).oid,{type:l,object:c}=await yt({fs:i,cache:n,gitdir:a,oid:s});l!=="blob"?t._content=void 0:t._content=new Uint8Array(c)}return t._content}async oid(t){if(t._oid===!1){let i=(await this.mapPromise).get(t._fullpath);t._oid=i.oid}return t._oid}};function $0({ref:e="HEAD"}={}){let t=Object.create(null);return Object.defineProperty(t,vi,{value:function({fs:r,gitdir:i,cache:n}){return new aa({fs:r,gitdir:i,ref:e,cache:n})}}),Object.freeze(t),t}var oa=class{constructor({fs:t,dir:r,gitdir:i,cache:n}){this.fs=t,this.cache=n,this.dir=r,this.gitdir=i;let a=this;this.ConstructEntry=class{constructor(s){this._fullpath=s,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return a.type(this)}async mode(){return a.mode(this)}async stat(){return a.stat(this)}async content(){return a.content(this)}async oid(){return a.oid(this)}}}async readdir(t){let r=t._fullpath,{fs:i,dir:n}=this,a=await i.readdir(z(n,r));return a===null?null:a.map(o=>z(r,o))}async type(t){return t._type===!1&&await t.stat(),t._type}async mode(t){return t._mode===!1&&await t.stat(),t._mode}async stat(t){if(t._stat===!1){let{fs:r,dir:i}=this,n=await r.lstat(`${i}/${t._fullpath}`);if(!n)throw new Error(`ENOENT: no such file or directory, lstat '${t._fullpath}'`);let a=n.isDirectory()?"tree":"blob";a==="blob"&&!n.isFile()&&!n.isSymbolicLink()&&(a="special"),t._type=a,n=Me(n),t._mode=n.mode,n.size===-1&&t._actualSize&&(n.size=t._actualSize),t._stat=n}return t._stat}async content(t){if(t._content===!1){let{fs:r,dir:i,gitdir:n}=this;if(await t.type()==="tree")t._content=void 0;else{let o=await(await at.get({fs:r,gitdir:n})).get("core.autocrlf"),s=await r.read(`${i}/${t._fullpath}`,{autocrlf:o});t._actualSize=s.length,t._stat&&t._stat.size===-1&&(t._stat.size=t._actualSize),t._content=new Uint8Array(s)}}return t._content}async oid(t){if(t._oid===!1){let{fs:r,gitdir:i,cache:n}=this,a;await Ht.acquire({fs:r,gitdir:i,cache:n},async function(o){let s=o.entriesMap.get(t._fullpath),l=await t.stat(),f=await(await at.get({fs:r,gitdir:i})).get("core.filemode"),u=typeof process<"u"?process.platform!=="win32":!0;!s||qn(l,s,f,u)?await t.content()===void 0?a=void 0:(a=await we(ze.wrap({type:"blob",object:await t.content()})),s&&a===s.oid&&(!f||l.mode===s.mode)&&qn(l,s,f,u)&&o.insert({filepath:t._fullpath,stats:l,oid:a})):a=s.oid}),t._oid=a}return t._oid}};function F0(){let e=Object.create(null);return Object.defineProperty(e,vi,{value:function({fs:t,dir:r,gitdir:i,cache:n}){return new oa({fs:t,dir:r,gitdir:i,cache:n})}}),Object.freeze(e),e}function D0(e,t){let r=t-e;return Array.from({length:r},(i,n)=>e+n)}var Tf=typeof Array.prototype.flat>"u"?e=>e.reduce((t,r)=>t.concat(r),[]):e=>e.flat(),sa=class{constructor(){this.value=null}consider(t){t!=null&&(this.value===null?this.value=t:t<this.value&&(this.value=t))}reset(){this.value=null}};function*C0(e){let t=new sa,r,i=[],n=e.length;for(let a=0;a<n;a++)i[a]=e[a].next().value,i[a]!==void 0&&t.consider(i[a]);if(t.value!==null)for(;;){let a=[];r=t.value,t.reset();for(let o=0;o<n;o++)i[o]!==void 0&&i[o]===r?(a[o]=i[o],i[o]=e[o].next().value):a[o]=null,i[o]!==void 0&&t.consider(i[o]);if(yield a,t.value===null)return}}async function N0({fs:e,cache:t,dir:r,gitdir:i,trees:n,map:a=async(l,c)=>c,reduce:o=async(l,c)=>{let f=Tf(c);return l!==void 0&&f.unshift(l),f},iterate:s=(l,c)=>Promise.all([...c].map(l))}){let l=n.map(d=>d[vi]({fs:e,dir:r,gitdir:i,cache:t})),c=new Array(l.length).fill("."),f=D0(0,l.length),u=async d=>{f.map(y=>{d[y]=d[y]&&new l[y].ConstructEntry(d[y])});let v=(await Promise.all(f.map(y=>d[y]?l[y].readdir(d[y]):[]))).map(y=>y===null?[]:y).map(y=>y[Symbol.iterator]());return{entries:d,children:C0(v)}},h=async d=>{let{entries:g,children:v}=await u(d),y=g.find(m=>m&&m._fullpath)._fullpath,p=await a(y,g);if(p!==null){let m=await s(h,v);return m=m.filter(k=>k!==void 0),o(p,m)}};return h(c)}async function ca(e,t){let r=await e.readdir(t);r==null?await e.rm(t):r.length?await Promise.all(r.map(i=>{let n=z(t,i);return e.lstat(n).then(a=>{if(a)return a.isDirectory()?ca(e,n):e.rm(n)})})).then(()=>e.rmdir(t)):await e.rmdir(t)}function U0(e){return P0(e)&&rf(e.then)&&rf(e.catch)}function P0(e){return e&&typeof e=="object"}function rf(e){return typeof e=="function"}function nf(e){return U0((r=>{try{return r.readFile().catch(i=>i)}catch(i){return i}})(e))}var af=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function of(e,t){if(nf(t))for(let r of af)e[`_${r}`]=t[r].bind(t);else for(let r of af)e[`_${r}`]=(0,Vr.default)(t[r].bind(t));nf(t)?t.rm?e._rm=t.rm.bind(t):t.rmdir.length>1?e._rm=t.rmdir.bind(t):e._rm=ca.bind(null,e):t.rm?e._rm=(0,Vr.default)(t.rm.bind(t)):t.rmdir.length>2?e._rm=(0,Vr.default)(t.rmdir.bind(t)):e._rm=ca.bind(null,e)}var ge=class{constructor(t){if(typeof t._original_unwrapped_fs<"u")return t;let r=Object.getOwnPropertyDescriptor(t,"promises");r&&r.enumerable?of(this,t.promises):of(this,t),this._original_unwrapped_fs=t}async exists(t,r={}){try{return await this._stat(t),!0}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR")return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',i),i}}async read(t,r={}){try{let i=await this._readFile(t,r);if(r.autocrlf==="true")try{i=new TextDecoder("utf8",{fatal:!0}).decode(i),i=i.replace(/\r\n/g,`
`),i=new TextEncoder().encode(i)}catch{}return typeof i!="string"&&(i=I.Buffer.from(i)),i}catch{return null}}async write(t,r,i={}){try{await this._writeFile(t,r,i);return}catch{await this.mkdir(mr(t)),await this._writeFile(t,r,i)}}async mkdir(t,r=!1){try{await this._mkdir(t);return}catch(i){if(i===null||i.code==="EEXIST")return;if(r)throw i;if(i.code==="ENOENT"){let n=mr(t);if(n==="."||n==="/"||n===t)throw i;await this.mkdir(n),await this.mkdir(t,!0)}}}async rm(t){try{await this._unlink(t)}catch(r){if(r.code!=="ENOENT")throw r}}async rmdir(t,r){try{r&&r.recursive?await this._rm(t,r):await this._rmdir(t)}catch(i){if(i.code!=="ENOENT")throw i}}async readdir(t){try{let r=await this._readdir(t);return r.sort(bi),r}catch(r){return r.code==="ENOTDIR"?null:[]}}async readdirDeep(t){let r=await this._readdir(t);return(await Promise.all(r.map(async n=>{let a=t+"/"+n;return(await this._stat(a)).isDirectory()?this.readdirDeep(a):a}))).reduce((n,a)=>n.concat(a),[])}async lstat(t){try{return await this._lstat(t)}catch(r){if(r.code==="ENOENT")return null;throw r}}async readlink(t,r={encoding:"buffer"}){try{let i=await this._readlink(t,r);return I.Buffer.isBuffer(i)?i:I.Buffer.from(i)}catch(i){if(i.code==="ENOENT")return null;throw i}}async writelink(t,r){return this._symlink(r.toString("utf8"),t)}};function W(e,t){if(t===void 0)throw new je(e)}var fa=class{static async isIgnored({fs:t,dir:r,gitdir:i=z(r,".git"),filepath:n}){if(Zn(n)===".git")return!0;if(n===".")return!1;let a="",o=z(i,"info","exclude");await t.exists(o)&&(a=await t.read(o,"utf8"));let s=[{gitignore:z(r,".gitignore"),filepath:n}],l=n.split("/").filter(Boolean);for(let f=1;f<l.length;f++){let u=l.slice(0,f).join("/"),h=l.slice(f).join("/");s.push({gitignore:z(r,u,".gitignore"),filepath:h})}let c=!1;for(let f of s){let u;try{u=await t.read(f.gitignore,"utf8")}catch(g){if(g.code==="NOENT")continue}let h=(0,gf.default)().add(a);h.add(u);let d=mr(f.filepath);if(d!=="."&&h.ignores(d))return!0;c?c=!h.test(f.filepath).unignored:c=h.test(f.filepath).ignored}return c}};async function M0({fs:e,gitdir:t,object:r,format:i,oid:n}){if(i!=="deflated")throw new D("GitObjectStoreLoose expects objects to write to be in deflated format");let a=`objects/${n.slice(0,2)}/${n.slice(2)}`,o=`${t}/${a}`;await e.exists(o)||await e.write(o,r)}var Mn=null;async function z0(e){return Mn===null&&(Mn=L0()),Mn?j0(e):yi.default.deflate(e)}async function j0(e){let t=new CompressionStream("deflate"),r=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(r).arrayBuffer())}function L0(){try{return new CompressionStream("deflate").writable.close(),new Blob([]).stream().cancel(),!0}catch{return!1}}async function pa({fs:e,gitdir:t,type:r,object:i,format:n="content",oid:a=void 0,dryRun:o=!1}){return n!=="deflated"&&(n!=="wrapped"&&(i=ze.wrap({type:r,object:i})),a=await we(i),i=I.Buffer.from(await z0(i))),o||await M0({fs:e,gitdir:t,object:i,format:"deflated",oid:a}),a}function H0(e){let t;for(;~(t=e.indexOf(92));)e[t]=47;return e}async function Af({fs:e,dir:t,gitdir:r=z(t,".git"),filepath:i,cache:n={},force:a=!1,parallel:o=!0}){try{W("fs",e),W("dir",t),W("gitdir",r),W("filepath",i);let s=new ge(e);await Ht.acquire({fs:s,gitdir:r,cache:n},async l=>la({dir:t,gitdir:r,fs:s,filepath:i,index:l,force:a,parallel:o}))}catch(s){throw s.caller="git.add",s}}async function la({dir:e,gitdir:t,fs:r,filepath:i,index:n,force:a,parallel:o}){i=Array.isArray(i)?i:[i];let s=i.map(async u=>{if(!a&&await fa.isIgnored({fs:r,dir:e,gitdir:t,filepath:u}))return;let h=await r.lstat(z(e,u));if(!h)throw new nt(u);if(h.isDirectory()){let d=await r.readdir(z(e,u));if(o){let g=d.map(v=>la({dir:e,gitdir:t,fs:r,filepath:[z(u,v)],index:n,force:a,parallel:o}));await Promise.all(g)}else for(let g of d)await la({dir:e,gitdir:t,fs:r,filepath:[z(u,g)],index:n,force:a,parallel:o})}else{let g=await(await at.get({fs:r,gitdir:t})).get("core.autocrlf"),v=h.isSymbolicLink()?await r.readlink(z(e,u)).then(H0):await r.read(z(e,u),{autocrlf:g});if(v===null)throw new nt(u);let y=await pa({fs:r,gitdir:t,type:"blob",object:v});n.insert({filepath:u,stats:h,oid:y})}}),l=await Promise.allSettled(s),c=l.filter(u=>u.status==="rejected").map(u=>u.reason);if(c.length>1)throw new fi(c);if(c.length===1)throw c[0];return l.filter(u=>u.status==="fulfilled"&&u.value).map(u=>u.value)}async function _i({fs:e,gitdir:t,path:r}){return(await at.get({fs:e,gitdir:t})).get(r)}function Rf(e,...t){for(let r of t)if(r)for(let i of Object.keys(r)){let n=r[i];n!==void 0&&(e[i]=n)}return e}async function sf({fs:e,gitdir:t,author:r,commit:i}){let n=Math.floor(Date.now()/1e3),a={name:await _i({fs:e,gitdir:t,path:"user.name"}),email:await _i({fs:e,gitdir:t,path:"user.email"})||"",timestamp:n,timezoneOffset:new Date(n*1e3).getTimezoneOffset()},o=Rf({},a,i?i.author:void 0,r);if(o.name!==void 0)return o}async function cf({fs:e,gitdir:t,author:r,committer:i,commit:n}){let a=Math.floor(Date.now()/1e3),o={name:await _i({fs:e,gitdir:t,path:"user.name"}),email:await _i({fs:e,gitdir:t,path:"user.email"})||"",timestamp:a,timezoneOffset:new Date(a*1e3).getTimezoneOffset()},s=Rf({},o,n?n.committer:void 0,r,i);if(s.name!==void 0)return s}async function Bf({fs:e,cache:t,gitdir:r,oid:i}){let{type:n,object:a}=await yt({fs:e,cache:t,gitdir:r,oid:i});if(n==="tag")return i=mi.from(a).parse().object,Bf({fs:e,cache:t,gitdir:r,oid:i});if(n!=="commit")throw new pe(i,n,"commit");return{commit:_e.from(a),oid:i}}async function ua({fs:e,cache:t,gitdir:r,oid:i}){let{commit:n,oid:a}=await Bf({fs:e,cache:t,gitdir:r,oid:i});return{oid:a,commit:n.parse(),payload:n.withoutSignature()}}async function q0({fs:e,cache:t,onSign:r,gitdir:i,message:n,author:a,committer:o,signingKey:s,amend:l=!1,dryRun:c=!1,noUpdateBranch:f=!1,ref:u,parent:h,tree:d}){let g=!1;u||(u=await H.resolve({fs:e,gitdir:i,ref:"HEAD",depth:2}));let v,y;try{v=await H.resolve({fs:e,gitdir:i,ref:u}),y=await ua({fs:e,gitdir:i,oid:v,cache:{}})}catch{g=!0}if(l&&g)throw new wi(u);let p=l?await sf({fs:e,gitdir:i,author:a,commit:y.commit}):await sf({fs:e,gitdir:i,author:a});if(!p)throw new yr("author");let m=l?await cf({fs:e,gitdir:i,author:p,committer:o,commit:y.commit}):await cf({fs:e,gitdir:i,author:p,committer:o});if(!m)throw new yr("committer");return Ht.acquire({fs:e,gitdir:i,cache:t,allowUnmerged:!1},async function(k){let _=xf(k.entries).get(".");if(d||(d=await Of({fs:e,gitdir:i,inode:_,dryRun:c})),h?h=await Promise.all(h.map(R=>H.resolve({fs:e,gitdir:i,ref:R}))):l?h=y.commit.parent:h=v?[v]:[],!n)if(l)n=y.commit.message;else throw new je("message");let A=_e.from({tree:d,parent:h,author:p,committer:m,message:n});s&&(A=await _e.sign(A,r,s));let w=await pa({fs:e,gitdir:i,type:"commit",object:A.toObject(),dryRun:c});return!f&&!c&&await H.writeRef({fs:e,gitdir:i,ref:u,value:w}),w})}async function Of({fs:e,gitdir:t,inode:r,dryRun:i}){let n=r.children;for(let l of n)l.type==="tree"&&(l.metadata.mode="040000",l.metadata.oid=await Of({fs:e,gitdir:t,inode:l,dryRun:i}));let a=n.map(l=>({mode:l.metadata.mode,path:l.basename,oid:l.metadata.oid,type:l.type})),o=Qt.from(a);return await pa({fs:e,gitdir:t,type:"tree",object:o.toObject(),dryRun:i})}async function Z0({fs:e,cache:t,gitdir:r,oid:i,filepath:n}){if(n.startsWith("/"))throw new gr("leading-slash");if(n.endsWith("/"))throw new gr("trailing-slash");let a=i,o=await vr({fs:e,cache:t,gitdir:r,oid:i}),s=o.tree;if(n==="")i=o.oid;else{let l=n.split("/");i=await $f({fs:e,cache:t,gitdir:r,tree:s,pathArray:l,oid:a,filepath:n})}return i}async function $f({fs:e,cache:t,gitdir:r,tree:i,pathArray:n,oid:a,filepath:o}){let s=n.shift();for(let l of i)if(l.path===s){if(n.length===0)return l.oid;{let{type:c,object:f}=await yt({fs:e,cache:t,gitdir:r,oid:l.oid});if(c!=="tree")throw new pe(a,c,"tree",o);return i=Qt.from(f),$f({fs:e,cache:t,gitdir:r,tree:i,pathArray:n,oid:a,filepath:o})}}throw new nt(`file or directory found at "${a}:${o}"`)}async function G0({fs:e,gitdir:t,remote:r,url:i,force:n}){if(r!==Ln.default.clean(r))throw new ci(r,Ln.default.clean(r));let a=await at.get({fs:e,gitdir:t});if(!n&&(await a.getSubsections("remote")).includes(r)&&i!==await a.get(`remote.${r}.url`))throw new ni("remote",r);await a.set(`remote.${r}.url`,i),await a.set(`remote.${r}.fetch`,`+refs/heads/*:refs/remotes/${r}/*`),await at.save({fs:e,gitdir:t,config:a})}var W0=(e,t)=>e==="."||t==null||t.length===0||t==="."?!0:t.length>=e.length?t.startsWith(e):e.startsWith(t);async function X0({fs:e,cache:t,onProgress:r,onPostCheckout:i,dir:n,gitdir:a,remote:o,ref:s,filepaths:l,noCheckout:c,noUpdateHead:f,dryRun:u,force:h,track:d=!0}){let g;if(i)try{g=await H.resolve({fs:e,gitdir:a,ref:"HEAD"})}catch{g="0000000000000000000000000000000000000000"}let v;try{v=await H.resolve({fs:e,gitdir:a,ref:s})}catch(y){if(s==="HEAD")throw y;let p=`${o}/${s}`;if(v=await H.resolve({fs:e,gitdir:a,ref:p}),d){let m=await at.get({fs:e,gitdir:a});await m.set(`branch.${s}.remote`,o),await m.set(`branch.${s}.merge`,`refs/heads/${s}`),await at.save({fs:e,gitdir:a,config:m})}await H.writeRef({fs:e,gitdir:a,ref:`refs/heads/${s}`,value:v})}if(!c){let y;try{y=await Y0({fs:e,cache:t,onProgress:r,dir:n,gitdir:a,ref:s,force:h,filepaths:l})}catch(_){throw _ instanceof nt&&_.data.what===v?new oi(s,v):_}let p=y.filter(([_])=>_==="conflict").map(([_,A])=>A);if(p.length>0)throw new ai(p);let m=y.filter(([_])=>_==="error").map(([_,A])=>A);if(m.length>0)throw new D(m.join(", "));if(u){i&&await i({previousHead:g,newHead:v,type:l!=null&&l.length>0?"file":"branch"});return}let k=0,E=y.length;await Ht.acquire({fs:e,gitdir:a,cache:t},async function(_){await Promise.all(y.filter(([A])=>A==="delete"||A==="delete-index").map(async function([A,w]){let R=`${n}/${w}`;A==="delete"&&await e.rm(R),_.delete({filepath:w}),r&&await r({phase:"Updating workdir",loaded:++k,total:E})}))}),await Ht.acquire({fs:e,gitdir:a,cache:t},async function(_){for(let[A,w]of y)if(A==="rmdir"||A==="rmdir-index"){let R=`${n}/${w}`;try{A==="rmdir-index"&&_.delete({filepath:w}),await e.rmdir(R),r&&await r({phase:"Updating workdir",loaded:++k,total:E})}catch(b){if(b.code==="ENOTEMPTY")console.log(`Did not delete ${w} because directory is not empty`);else throw b}}}),await Promise.all(y.filter(([_])=>_==="mkdir"||_==="mkdir-index").map(async function([_,A]){let w=`${n}/${A}`;await e.mkdir(w),r&&await r({phase:"Updating workdir",loaded:++k,total:E})})),await Ht.acquire({fs:e,gitdir:a,cache:t},async function(_){await Promise.all(y.filter(([A])=>A==="create"||A==="create-index"||A==="update"||A==="mkdir-index").map(async function([A,w,R,b,B]){let S=`${n}/${w}`;try{if(A!=="create-index"&&A!=="mkdir-index"){let{object:F}=await yt({fs:e,cache:t,gitdir:a,oid:R});if(B&&await e.rm(S),b===33188)await e.write(S,F);else if(b===33261)await e.write(S,F,{mode:511});else if(b===40960)await e.writelink(S,F);else throw new D(`Invalid mode 0o${b.toString(8)} detected in blob ${R}`)}let O=await e.lstat(S);b===33261&&(O.mode=493),A==="mkdir-index"&&(O.mode=57344),_.insert({filepath:w,stats:O,oid:R}),r&&await r({phase:"Updating workdir",loaded:++k,total:E})}catch(O){console.log(O)}}))}),i&&await i({previousHead:g,newHead:v,type:l!=null&&l.length>0?"file":"branch"})}if(!f){let y=await H.expand({fs:e,gitdir:a,ref:s});y.startsWith("refs/heads")?await H.writeSymbolicRef({fs:e,gitdir:a,ref:"HEAD",value:y}):await H.writeRef({fs:e,gitdir:a,ref:"HEAD",value:v})}}async function Y0({fs:e,cache:t,onProgress:r,dir:i,gitdir:n,ref:a,force:o,filepaths:s}){let l=0;return N0({fs:e,cache:t,dir:i,gitdir:n,trees:[$0({ref:a}),F0(),Yd()],map:async function(c,[f,u,h]){if(c===".")return;if(s&&!s.some(g=>W0(c,g)))return null;switch(r&&await r({phase:"Analyzing workdir",loaded:++l}),[!!h,!!f,!!u].map(Number).join("")){case"000":return;case"001":return o&&s&&s.includes(c)?["delete",c]:void 0;case"010":switch(await f.type()){case"tree":return["mkdir",c];case"blob":return["create",c,await f.oid(),await f.mode()];case"commit":return["mkdir-index",c,await f.oid(),await f.mode()];default:return["error",`new entry Unhandled type ${await f.type()}`]}case"011":switch(`${await f.type()}-${await u.type()}`){case"tree-tree":return;case"tree-blob":case"blob-tree":return["conflict",c];case"blob-blob":return await f.oid()!==await u.oid()?o?["update",c,await f.oid(),await f.mode(),await f.mode()!==await u.mode()]:["conflict",c]:await f.mode()!==await u.mode()?o?["update",c,await f.oid(),await f.mode(),!0]:["conflict",c]:["create-index",c,await f.oid(),await f.mode()];case"commit-tree":return;case"commit-blob":return["conflict",c];default:return["error",`new entry Unhandled type ${f.type}`]}case"100":return["delete-index",c];case"101":switch(await h.type()){case"tree":return["rmdir",c];case"blob":return await h.oid()!==await u.oid()?o?["delete",c]:["conflict",c]:["delete",c];case"commit":return["rmdir-index",c];default:return["error",`delete entry Unhandled type ${await h.type()}`]}case"110":case"111":switch(`${await h.type()}-${await f.type()}`){case"tree-tree":return;case"blob-blob":{if(await h.oid()===await f.oid()&&await h.mode()===await f.mode()&&!o)return;if(u){if(await u.oid()!==await h.oid()&&await u.oid()!==await f.oid())return o?["update",c,await f.oid(),await f.mode(),await f.mode()!==await u.mode()]:["conflict",c]}else if(o)return["update",c,await f.oid(),await f.mode(),await f.mode()!==await h.mode()];return await f.mode()!==await h.mode()?["update",c,await f.oid(),await f.mode(),!0]:await f.oid()!==await h.oid()?["update",c,await f.oid(),await f.mode(),!1]:void 0}case"tree-blob":return["update-dir-to-blob",c,await f.oid()];case"blob-tree":return["update-blob-to-tree",c];case"commit-commit":return["mkdir-index",c,await f.oid(),await f.mode()];default:return["error",`update entry Unhandled type ${await h.type()}-${await f.type()}`]}}},reduce:async function(c,f){return f=Tf(f),c?c&&c[0]==="rmdir"?(f.push(c),f):(f.unshift(c),f):f}})}var K0=new RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function Ff(e){let t=K0.exec(e);return t?t[1]==="remotes/"&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}async function V0({fs:e,gitdir:t,fullname:r=!1,test:i=!1}){let n=await H.resolve({fs:e,gitdir:t,ref:"HEAD",depth:2});if(i)try{await H.resolve({fs:e,gitdir:t,ref:n})}catch{return}if(n.startsWith("refs/"))return r?n:Ff(n)}function J0(e){return e=e.replace(/^git@([^:]+):/,"https://$1/"),e=e.replace(/^ssh:\/\//,"https://"),e}function Df({username:e="",password:t=""}){return`Basic ${I.Buffer.from(`${e}:${t}`).toString("base64")}`}async function xi(e,t){let r=kf(e);for(;;){let{value:i,done:n}=await r.next();if(i&&await t(i),n)break}r.return&&r.return()}async function ha(e){let t=0,r=[];await xi(e,a=>{r.push(a),t+=a.byteLength});let i=new Uint8Array(t),n=0;for(let a of r)i.set(a,n),n+=a.byteLength;return i}function ff(e){let t=e.match(/^https?:\/\/([^/]+)@/);if(t==null)return{url:e,auth:{}};t=t[1];let[r,i]=t.split(":");return e=e.replace(`${t}@`,""),{url:e,auth:{username:r,password:i}}}function Q0(e,t){let r=t.toString(16);return"0".repeat(e-r.length)+r}var wt=class{static flush(){return I.Buffer.from("0000","utf8")}static delim(){return I.Buffer.from("0001","utf8")}static encode(t){typeof t=="string"&&(t=I.Buffer.from(t));let r=t.length+4,i=Q0(4,r);return I.Buffer.concat([I.Buffer.from(i,"utf8"),t])}static streamReader(t){let r=new ri(t);return async function(){try{let n=await r.read(4);if(n==null)return!0;if(n=parseInt(n.toString("utf8"),16),n===0||n===1)return null;let a=await r.read(n-4);return a??!0}catch(n){return t.error=n,!0}}}};async function lf(e){let t={},r;for(;r=await e(),r!==!0;){if(r===null)continue;r=r.toString("utf8").replace(/\n$/,"");let i=r.indexOf("=");if(i>-1){let n=r.slice(0,i),a=r.slice(i+1);t[n]=a}else t[r]=!0}return{protocolVersion:2,capabilities2:t}}async function uf(e,{service:t}){let r=new Set,i=new Map,n=new Map,a=wt.streamReader(e),o=await a();for(;o===null;)o=await a();if(o===!0)throw new si;if(o.includes("version 2"))return lf(a);if(o.toString("utf8").replace(/\n$/,"")!==`# service=${t}`)throw new br(`# service=${t}\\n`,o.toString("utf8"));let s=await a();for(;s===null;)s=await a();if(s===!0)return{capabilities:r,refs:i,symrefs:n};if(s=s.toString("utf8"),s.includes("version 2"))return lf(a);let[l,c]=zn(s,"\0","\\x00");if(c.split(" ").map(f=>r.add(f)),l!=="0000000000000000000000000000000000000000 capabilities^{}"){let[f,u]=zn(l," "," ");for(i.set(u,f);;){let h=await a();if(h===!0)break;if(h!==null){let[d,g]=zn(h.toString("utf8")," "," ");i.set(g,d)}}}for(let f of r)if(f.startsWith("symref=")){let u=f.match(/symref=([^:]+):(.*)/);u.length===3&&n.set(u[1],u[2])}return{protocolVersion:1,capabilities:r,refs:i,symrefs:n}}function zn(e,t,r){let i=e.trim().split(t);if(i.length!==2)throw new br(`Two strings separated by '${r}'`,e.toString("utf8"));return i}var hf=(e,t)=>e.endsWith("?")?`${e}${t}`:`${e}/${t.replace(/^https?:\/\//,"")}`,df=(e,t)=>{(t.username||t.password)&&(e.Authorization=Df(t)),t.headers&&Object.assign(e,t.headers)},jn=async e=>{try{let t=I.Buffer.from(await ha(e.body)),r=t.toString("utf8");return{preview:r.length<256?r:r.slice(0,256)+"...",response:r,data:t}}catch{return{}}},gi=class{static async capabilities(){return["discover","connect"]}static async discover({http:t,onProgress:r,onAuth:i,onAuthSuccess:n,onAuthFailure:a,corsProxy:o,service:s,url:l,headers:c,protocolVersion:f}){let{url:u,auth:h}=ff(l),d=o?hf(o,u):u;(h.username||h.password)&&(c.Authorization=Df(h)),f===2&&(c["Git-Protocol"]="version=2");let g,v,y=!1;do if(g=await t.request({onProgress:r,method:"GET",url:`${d}/info/refs?service=${s}`,headers:c}),v=!1,g.statusCode===401||g.statusCode===203){let p=y?a:i;if(p){if(h=await p(u,{...h,headers:{...c}}),h&&h.cancel)throw new di;h&&(df(c,h),y=!0,v=!0)}}else g.statusCode===200&&y&&n&&await n(u,h);while(v);if(g.statusCode!==200){let{response:p}=await jn(g);throw new _r(g.statusCode,g.statusMessage,p)}if(g.headers["content-type"]===`application/x-${s}-advertisement`){let p=await uf(g.body,{service:s});return p.auth=h,p}else{let{preview:p,response:m,data:k}=await jn(g);try{let E=await uf([k],{service:s});return E.auth=h,E}catch{throw new li(p,m)}}}static async connect({http:t,onProgress:r,corsProxy:i,service:n,url:a,auth:o,body:s,headers:l}){let c=ff(a);c&&(a=c.url),i&&(a=hf(i,a)),l["content-type"]=`application/x-${n}-request`,l.accept=`application/x-${n}-result`,df(l,o);let f=await t.request({onProgress:r,method:"POST",url:`${a}/${n}`,body:s,headers:l});if(f.statusCode!==200){let{response:u}=jn(f);throw new _r(f.statusCode,f.statusMessage,u)}return f}};function tw({url:e}){if(e.startsWith("git@"))return{transport:"ssh",address:e};let t=e.match(/(\w+)(:\/\/|::)(.*)/);if(t!==null){if(t[2]==="://")return{transport:t[1],address:t[0]};if(t[2]==="::")return{transport:t[1],address:t[3]}}}var da=class{static getRemoteHelperFor({url:t}){let r=new Map;r.set("http",gi),r.set("https",gi);let i=tw({url:t});if(!i)throw new hi(t);if(r.has(i.transport))return r.get(i.transport);throw new ui(t,i.transport,i.transport==="ssh"?J0(t):void 0)}},he=null,xr=class{static async read({fs:t,gitdir:r}){he===null&&(he=new wr.default);let i=z(r,"shallow"),n=new Set;return await he.acquire(i,async function(){let a=await t.read(i,{encoding:"utf8"});if(a===null||a.trim()==="")return n;a.trim().split(`
`).map(o=>n.add(o))}),n}static async write({fs:t,gitdir:r,oids:i}){he===null&&(he=new wr.default);let n=z(r,"shallow");if(i.size>0){let a=[...i].join(`
`)+`
`;await he.acquire(n,async function(){await t.write(n,a,{encoding:"utf8"})})}else await he.acquire(n,async function(){await t.rm(n)})}};async function ew({fs:e,gitdir:t,oid:r}){let i=`objects/${r.slice(0,2)}/${r.slice(2)}`;return e.exists(`${t}/${i}`)}async function rw({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:n}){let a=await e.readdir(z(r,"objects/pack"));a=a.filter(o=>o.endsWith(".idx"));for(let o of a){let s=`${r}/objects/pack/${o}`,l=await If({fs:e,cache:t,filename:s,getExternalRefDelta:n});if(l.error)throw new D(l.error);if(l.offsets.has(i))return!0}return!1}async function wf({fs:e,cache:t,gitdir:r,oid:i,format:n="content"}){let a=s=>yt({fs:e,cache:t,gitdir:r,oid:s}),o=await ew({fs:e,gitdir:r,oid:i});return o||(o=await rw({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:a})),o}function iw(e){let n="5041434b"+"00000002"+"00000000";return e.slice(0,12).toString("hex")===n}function nw(e,t){let r=e.map(i=>i.split("=",1)[0]);return t.filter(i=>{let n=i.split("=",1)[0];return r.includes(n)})}var aw={name:"isomorphic-git",version:"1.27.1",agent:"git/isomorphic-git@1.27.1"},Pe=class{constructor(){this._queue=[]}write(t){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let r=this._waiting;this._waiting=null,r({value:t})}else this._queue.push(t)}end(){if(this._ended=!0,this._waiting){let t=this._waiting;this._waiting=null,t({done:!0})}}destroy(t){this.error=t,this.end()}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(t=>{this._waiting=t})}};function ow(e){let t=e.indexOf("\r"),r=e.indexOf(`
`);return t===-1&&r===-1?-1:t===-1?r+1:r===-1?t+1:r===t+1?r+1:Math.min(t,r)+1}function sw(e){let t=new Pe,r="";return(async()=>(await xi(e,i=>{for(i=i.toString("utf8"),r+=i;;){let n=ow(r);if(n===-1)break;t.write(r.slice(0,n)),r=r.slice(n)}}),r.length>0&&t.write(r),t.end()))(),t}var wa=class{static demux(t){let r=wt.streamReader(t),i=new Pe,n=new Pe,a=new Pe,o=async function(){let s=await r();if(s===null)return o();if(s===!0){i.end(),a.end(),t.error?n.destroy(t.error):n.end();return}switch(s[0]){case 1:{n.write(s.slice(1));break}case 2:{a.write(s.slice(1));break}case 3:{let l=s.slice(1);a.write(l),i.end(),a.end(),n.destroy(new Error(l.toString("utf8")));return}default:i.write(s)}o()};return o(),{packetlines:i,packfile:n,progress:a}}};async function cw(e){let{packetlines:t,packfile:r,progress:i}=wa.demux(e),n=[],a=[],o=[],s=!1,l=!1;return new Promise((c,f)=>{xi(t,u=>{let h=u.toString("utf8").trim();if(h.startsWith("shallow")){let d=h.slice(-41).trim();d.length!==40&&f(new me(d)),n.push(d)}else if(h.startsWith("unshallow")){let d=h.slice(-41).trim();d.length!==40&&f(new me(d)),a.push(d)}else if(h.startsWith("ACK")){let[,d,g]=h.split(" ");o.push({oid:d,status:g}),g||(l=!0)}else h.startsWith("NAK")?(s=!0,l=!0):(l=!0,s=!0);l&&(e.error?f(e.error):c({shallows:n,unshallows:a,acks:o,nak:s,packfile:r,progress:i}))}).finally(()=>{l||(e.error?f(e.error):c({shallows:n,unshallows:a,acks:o,nak:s,packfile:r,progress:i}))})})}function fw({capabilities:e=[],wants:t=[],haves:r=[],shallows:i=[],depth:n=null,since:a=null,exclude:o=[]}){let s=[];t=[...new Set(t)];let l=` ${e.join(" ")}`;for(let c of t)s.push(wt.encode(`want ${c}${l}
`)),l="";for(let c of i)s.push(wt.encode(`shallow ${c}
`));n!==null&&s.push(wt.encode(`deepen ${n}
`)),a!==null&&s.push(wt.encode(`deepen-since ${Math.floor(a.valueOf()/1e3)}
`));for(let c of o)s.push(wt.encode(`deepen-not ${c}
`));s.push(wt.flush());for(let c of r)s.push(wt.encode(`have ${c}
`));return s.push(wt.encode(`done
`)),s}async function lw({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:l,ref:c,remoteRef:f,remote:u,url:h,corsProxy:d,depth:g=null,since:v=null,exclude:y=[],relative:p=!1,tags:m=!1,singleBranch:k=!1,headers:E={},prune:_=!1,pruneTags:A=!1}){let w=c||await V0({fs:e,gitdir:l,test:!0}),R=await at.get({fs:e,gitdir:l}),b=u||w&&await R.get(`branch.${w}.remote`)||"origin",B=h||await R.get(`remote.${b}.url`);if(typeof B>"u")throw new je("remote OR url");let S=f||w&&await R.get(`branch.${w}.merge`)||c||"HEAD";d===void 0&&(d=await R.get("http.corsProxy"));let O=da.getRemoteHelperFor({url:B}),F=await O.discover({http:r,onAuth:a,onAuthSuccess:o,onAuthFailure:s,corsProxy:d,service:"git-upload-pack",url:B,headers:E,protocolVersion:1}),P=F.auth,ct=F.refs;if(ct.size===0)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(g!==null&&!F.capabilities.has("shallow"))throw new de("shallow","depth");if(v!==null&&!F.capabilities.has("deepen-since"))throw new de("deepen-since","since");if(y.length>0&&!F.capabilities.has("deepen-not"))throw new de("deepen-not","exclude");if(p===!0&&!F.capabilities.has("deepen-relative"))throw new de("deepen-relative","relative");let{oid:be,fullref:bt}=H.resolveAgainstMap({ref:S,map:ct});for(let j of ct.keys())j===bt||j==="HEAD"||j.startsWith("refs/heads/")||m&&j.startsWith("refs/tags/")||ct.delete(j);let te=nw([...F.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${aw.agent}`]);p&&te.push("deepen-relative");let Hf=k?[be]:ct.values(),qf=k?[w]:await H.listRefs({fs:e,gitdir:l,filepath:"refs"}),Er=[];for(let j of qf)try{j=await H.expand({fs:e,gitdir:l,ref:j});let Y=await H.resolve({fs:e,gitdir:l,ref:j});await wf({fs:e,cache:t,gitdir:l,oid:Y})&&Er.push(Y)}catch{}Er=[...new Set(Er)];let ve=await xr.read({fs:e,gitdir:l}),Zf=F.capabilities.has("shallow")?[...ve]:[],Gf=fw({capabilities:te,wants:Hf,haves:Er,shallows:Zf,depth:g,since:v,exclude:y}),Wf=I.Buffer.from(await ha(Gf)),He=await O.connect({http:r,onProgress:i,corsProxy:d,service:"git-upload-pack",url:B,auth:P,body:[Wf],headers:E}),X=await cw(He.body);He.headers&&(X.headers=He.headers);for(let j of X.shallows)if(!ve.has(j))try{let{object:Y}=await yt({fs:e,cache:t,gitdir:l,oid:j}),ft=new _e(Y),vt=await Promise.all(ft.headers().parent.map(Ze=>wf({fs:e,cache:t,gitdir:l,oid:Ze})));vt.length===0||vt.every(Ze=>Ze)||ve.add(j)}catch{ve.add(j)}for(let j of X.unshallows)ve.delete(j);if(await xr.write({fs:e,gitdir:l,oids:ve}),k){let j=new Map([[bt,be]]),Y=new Map,ft=10,vt=bt;for(;ft--;){let Ii=F.symrefs.get(vt);if(Ii===void 0)break;Y.set(vt,Ii),vt=Ii}let Si=ct.get(vt);Si&&j.set(vt,Si);let{pruned:Ze}=await H.updateRemoteRefs({fs:e,gitdir:l,remote:b,refs:j,symrefs:Y,tags:m,prune:_});_&&(X.pruned=Ze)}else{let{pruned:j}=await H.updateRemoteRefs({fs:e,gitdir:l,remote:b,refs:ct,symrefs:F.symrefs,tags:m,prune:_,pruneTags:A});_&&(X.pruned=j)}if(X.HEAD=F.symrefs.get("HEAD"),X.HEAD===void 0){let{oid:j}=H.resolveAgainstMap({ref:"HEAD",map:ct});for(let[Y,ft]of ct.entries())if(Y!=="HEAD"&&ft===j){X.HEAD=Y;break}}let Xf=bt.startsWith("refs/tags")?"tag":"branch";if(X.FETCH_HEAD={oid:be,description:`${Xf} '${Ff(bt)}' of ${B}`},i||n){let j=sw(X.progress);xi(j,async Y=>{if(n&&await n(Y),i){let ft=Y.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);ft&&await i({phase:ft[1].trim(),loaded:parseInt(ft[2],10),total:parseInt(ft[3],10)})}})}let kr=I.Buffer.from(await ha(X.packfile));if(He.body.error)throw He.body.error;let ba=kr.slice(-20).toString("hex"),qe={defaultBranch:X.HEAD,fetchHead:X.FETCH_HEAD.oid,fetchHeadDescription:X.FETCH_HEAD.description};if(X.headers&&(qe.headers=X.headers),_&&(qe.pruned=X.pruned),ba!==""&&!iw(kr)){qe.packfile=`objects/pack/pack-${ba}.pack`;let j=z(l,qe.packfile);await e.write(j,kr);let Y=vt=>yt({fs:e,cache:t,gitdir:l,oid:vt}),ft=await ii.fromPack({pack:kr,getExternalRefDelta:Y,onProgress:i});await e.write(j.replace(/\.pack$/,".idx"),await ft.toBuffer())}return qe}async function Cf({fs:e,bare:t=!1,dir:r,gitdir:i=t?r:z(r,".git"),defaultBranch:n="master"}){if(await e.exists(i+"/config"))return;let a=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];a=a.map(o=>i+"/"+o);for(let o of a)await e.mkdir(o);await e.write(i+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${t}
`+(t?"":`	logallrefupdates = true
`)+`	symlinks = false
	ignorecase = true
`),await e.write(i+"/HEAD",`ref: refs/heads/${n}
`)}async function uw({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,onPostCheckout:l,dir:c,gitdir:f,url:u,corsProxy:h,ref:d,remote:g,depth:v,since:y,exclude:p,relative:m,singleBranch:k,noCheckout:E,noTags:_,headers:A}){try{if(await Cf({fs:e,gitdir:f}),await G0({fs:e,gitdir:f,remote:g,url:u,force:!1}),h){let b=await at.get({fs:e,gitdir:f});await b.set("http.corsProxy",h),await at.save({fs:e,gitdir:f,config:b})}let{defaultBranch:w,fetchHead:R}=await lw({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:f,ref:d,remote:g,corsProxy:h,depth:v,since:y,exclude:p,relative:m,singleBranch:k,headers:A,tags:!_});if(R===null)return;d=d||w,d=d.replace("refs/heads/",""),await X0({fs:e,cache:t,onProgress:i,onPostCheckout:l,dir:c,gitdir:f,ref:d,remote:g,noCheckout:E})}catch(w){throw await e.rmdir(f,{recursive:!0,maxRetries:10}).catch(()=>{}),w}}async function Nf({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,onPostCheckout:s,dir:l,gitdir:c=z(l,".git"),url:f,corsProxy:u=void 0,ref:h=void 0,remote:d="origin",depth:g=void 0,since:v=void 0,exclude:y=[],relative:p=!1,singleBranch:m=!1,noCheckout:k=!1,noTags:E=!1,headers:_={},cache:A={}}){try{return W("fs",e),W("http",t),W("gitdir",c),k||W("dir",l),W("url",f),await uw({fs:new ge(e),cache:A,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,onPostCheckout:s,dir:l,gitdir:c,url:f,corsProxy:u,ref:h,remote:d,depth:g,since:v,exclude:y,relative:p,singleBranch:m,noCheckout:k,noTags:E,headers:_})}catch(w){throw w.caller="git.clone",w}}async function Uf({fs:e,onSign:t,dir:r,gitdir:i=z(r,".git"),message:n,author:a,committer:o,signingKey:s,amend:l=!1,dryRun:c=!1,noUpdateBranch:f=!1,ref:u,parent:h,tree:d,cache:g={}}){try{W("fs",e),l||W("message",n),s&&W("onSign",t);let v=new ge(e);return await q0({fs:v,cache:g,onSign:t,gitdir:i,message:n,author:a,committer:o,signingKey:s,amend:l,dryRun:c,noUpdateBranch:f,ref:u,parent:h,tree:d})}catch(v){throw v.caller="git.commit",v}}async function Pf({fs:e,bare:t=!1,dir:r,gitdir:i=t?r:z(r,".git"),defaultBranch:n="master"}){try{return W("fs",e),W("gitdir",i),t||W("dir",r),await Cf({fs:new ge(e),bare:t,dir:r,gitdir:i,defaultBranch:n})}catch(a){throw a.caller="git.init",a}}function hw(e,t){return e.committer.timestamp-t.committer.timestamp}var dw="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";async function pf({fs:e,cache:t,gitdir:r,oid:i,fileId:n}){if(n===dw)return;let a=i,o,s=await vr({fs:e,cache:t,gitdir:r,oid:i}),l=s.tree;return n===s.oid?o=s.path:(o=await Mf({fs:e,cache:t,gitdir:r,tree:l,fileId:n,oid:a}),Array.isArray(o)&&(o.length===0?o=void 0:o.length===1&&(o=o[0]))),o}async function Mf({fs:e,cache:t,gitdir:r,tree:i,fileId:n,oid:a,filepaths:o=[],parentPath:s=""}){let l=i.entries().map(function(c){let f;return c.oid===n?(f=z(s,c.path),o.push(f)):c.type==="tree"&&(f=yt({fs:e,cache:t,gitdir:r,oid:c.oid}).then(function({object:u}){return Mf({fs:e,cache:t,gitdir:r,tree:Qt.from(u),fileId:n,oid:a,filepaths:o,parentPath:z(s,c.path)})})),f});return await Promise.all(l),o}async function ww({fs:e,cache:t,gitdir:r,filepath:i,ref:n,depth:a,since:o,force:s,follow:l}){let c=typeof o>"u"?void 0:Math.floor(o.valueOf()/1e3),f=[],u=await xr.read({fs:e,gitdir:r}),h=await H.resolve({fs:e,gitdir:r,ref:n}),d=[await ua({fs:e,cache:t,gitdir:r,oid:h})],g,v,y;function p(m){y&&i&&f.push(m)}for(;d.length>0;){let m=d.pop();if(c!==void 0&&m.commit.committer.timestamp<=c)break;if(i){let k;try{k=await Z0({fs:e,cache:t,gitdir:r,oid:m.commit.tree,filepath:i}),v&&g!==k&&f.push(v),g=k,v=m,y=!0}catch(E){if(E instanceof nt){let _=l&&g;if(_&&(_=await pf({fs:e,cache:t,gitdir:r,oid:m.commit.tree,fileId:g}),_))if(Array.isArray(_)){if(v){let A=await pf({fs:e,cache:t,gitdir:r,oid:v.commit.tree,fileId:g});if(Array.isArray(A))if(_=_.filter(w=>A.indexOf(w)===-1),_.length===1)_=_[0],i=_,v&&f.push(v);else{_=!1,v&&f.push(v);break}}}else i=_,v&&f.push(v);if(!_){if(y&&g&&(f.push(v),!s))break;if(!s&&!l)throw E}v=m,y=!1}else throw E}}else f.push(m);if(a!==void 0&&f.length===a){p(m);break}if(!u.has(m.oid))for(let k of m.commit.parent){let E=await ua({fs:e,cache:t,gitdir:r,oid:k});d.map(_=>_.oid).includes(E.oid)||d.push(E)}d.length===0&&p(m),d.sort((k,E)=>hw(k.commit,E.commit))}return f}async function zf({fs:e,dir:t,gitdir:r=z(t,".git"),filepath:i,ref:n="HEAD",depth:a,since:o,force:s,follow:l,cache:c={}}){try{return W("fs",e),W("gitdir",r),W("ref",n),await ww({fs:new ge(e),cache:c,gitdir:r,filepath:i,ref:n,depth:a,since:o,force:s,follow:l})}catch(f){throw f.caller="git.log",f}}T();function mw(e){let t=[e];return{next(){return Promise.resolve({done:t.length===0,value:t.pop()})},return(){return t=[],{}},[Symbol.asyncIterator](){return this}}}function _w(e){return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:mw(e)}async function gw(e,t){let r=_w(e);for(;;){let{value:i,done:n}=await r.next();if(i&&await t(i),n)break}r.return&&r.return()}async function yw(e){let t=0,r=[];await gw(e,a=>{r.push(a),t+=a.byteLength});let i=new Uint8Array(t),n=0;for(let a of r)i.set(a,n),n+=a.byteLength;return i}function bw(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{next(){return t.read()},return(){return t.releaseLock(),{}},[Symbol.asyncIterator](){return this}}}async function vw({onProgress:e,url:t,method:r="GET",headers:i={},body:n}){n&&(n=await yw(n));let a=await fetch(t,{method:r,headers:i,body:n}),o=a.body&&a.body.getReader?bw(a.body):[new Uint8Array(await a.arrayBuffer())];i={};for(let[s,l]of a.headers.entries())i[s]=l;return{url:a.url,method:a.method,statusCode:a.status,statusMessage:a.statusText,body:o,headers:i}}var xw={request:vw},ma=xw;var C=acode.require("fsOperation"),Ew=acode.require("encodings"),Ei=DATA_STORAGE+".symlinks.json";function kw(e){let t=e.split("/").slice(-1)[0];return/.+\..*$/.test(t)&&/(?:\.([^.]*))?$/.exec(t)[0]||""}function ki(e,t=""){if(t=t||"",e===""||e==="/")return e;let r=e.split("/"),i=r.slice(-1)[0];if(!i)return r.slice(-2)[0];let n=decodeURI(i.split("?")[0]||"");return kw(n)===t&&(n=n.replace(new RegExp(t+"$"),"")),n}function ye(e){e.endsWith("/")&&(e=e.slice(0,-1));let t=e.split("/").slice(0,-1);/^(\.|\.\.|)$/.test(t[0])||t.unshift(".");let r=t.join("/");return r?r.replace(/^\.\/?/,""):"/"}function _a(e){return{type:e.isFile?"file":e.isDirectory?"dir":"symlink",mode:e.isFile?420:e.isDirectory?493:40960,size:e.length,ino:Sw(e.url),mtimeMs:e.lastModified,ctimeMs:e.lastModified}}function Sw(e){return e.hashCode()}function mt(e){return e.startsWith("file:/")&&!e.startsWith("file:///")?e.replace("file:/","file:///"):e}function Le(e){return class extends Error{constructor(...t){super(...t),this.code=e,this.message?this.message=e+": "+this.message:this.message=e}}}var Iw=Le("EEXIST"),Dt=Le("ENOENT"),jf=Le("ENOTDIR"),Tw=Le("ENOTEMPTY"),Nm=Le("ETIMEDOUT"),Um=Le("EISDIR"),ga=class{constructor(){this.symlinkStore={},this._loadSymlinks()}async _loadSymlinks(){try{if(await C(Ei).exists()){let r=await C(Ei).readFile("utf8");this.symlinkStore=JSON.parse(r)}}catch(t){console.error("Error loading symlink store:",t),this.symlinkStore={}}}async _saveSymlinks(){try{let t=JSON.stringify(this.symlinkStore,null,2);await C(Ei).exists()?await C(Ei).writeFile(t):await C(window.DATA_STORAGE).createFile(".symlinks.json",t)}catch(t){console.error("Error saving symlink store:",t)}}saveSuperblock(t){}loadSuperblock(){}async mkdir(t,r={recursive:!1,mode:511}){try{t=mt(t);let i=ye(t),n=ki(t);if(console.info("fs - mkdir, path: ",t),await C(t).exists())throw new Iw(t);if(r.recursive){let a=ye(t);a&&a!==t&&(await C(a).exists()||await this.mkdir(a,{recursive:!0,mode:r.mode}))}else{let a=ye(t);if(!await C(a).exists())throw new Dt(a)}await C(i).createDirectory(n)}catch(i){throw console.error("Error in mkdir:",i),i}}async rmdir(t,r){try{if(t=mt(t),console.info("fs - rmdir, path: ",t),!(await C(t).stat()).isDirectory)throw new jf;if((await C(t).lsDir()).length>0)throw new Tw;if(!await C(t).exists())throw new Dt(t);await C(t).delete()}catch(i){throw console.error("error in rmdir : ",i),i}}async readdir(t,r={}){try{if(t=mt(t),console.info("fs - readdir, path: ",t),!await C(t).exists())throw new Dt(t);if(!(await C(t).stat()).isDirectory)throw new jf;return(await C(t).lsDir()).map(a=>a.name)}catch(i){throw console.error("Error in readdir:",i),i}}async readFile(t,r={}){try{if(!t)return;if(t=mt(t),console.info("fs - readFile, path:",t),(r.encoding||"utf8")!=="utf8")throw new Error('Only "utf8" encoding is supported');if(!await C(t).exists())throw new Dt(t);let n=await C(t).readFile("utf8");return r.encoding?n:await Ew.encode(n,"utf8")}catch(i){throw console.error("error in readFile:",i),i}}async writeFile(t,r,i={encoding:"utf8",flag:"w"}){try{t=mt(t),console.info("fs - writeFile, path: ",t);let{encoding:n="utf8",flag:a="w"}=i;if(!await C(ye(t)).exists())throw new Dt(ye(t));if(a==="w")try{await C(t).writeFile(r)}catch{let s=ki(t),l=ye(t);await C(l).createFile(s,r)}else if(a==="a")try{let s=await C(t).readFile("utf8")+r;await C(t).writeFile(s)}catch{let s=ki(t),l=ye(t);await C(l).createFile(s,r)}}catch(n){throw console.error("error in writeFile : ",n),n}}async unlink(t,r){try{if(t=mt(t),console.info("fs - unlink, path: ",t),!await C(t).exists())throw new Dt(t);await C(t).delete(),this.symlinkStore[t]&&(delete this.symlinkStore[t],await this._saveSymlinks())}catch(i){throw console.error("error in unlink : ",i),i}}async rename(t,r){try{if(t=mt(t),r=mt(r),console.log("rename: ",filepath),!await C(t).exists())throw new Dt(t);await C(t).renameTo(ki(r)),this.symlinkStore[t]&&(this.symlinkStore[r]=this.symlinkStore[t],delete this.symlinkStore[t],await this._saveSymlinks())}catch(i){throw console.error("error in rename : ",i),i}}async stat(t){try{if(t==="/")return{type:"dir",mode:493};if(t=mt(t),console.info("fs - stat, path: ",t),!await C(t).exists())throw new Dt(t);return _a(await C(t).stat())}catch(r){throw console.error("error in stat : ",r),r}}async lstat(t){try{if(t=mt(t),console.info("fs - lstat, path: ",t),!await C(t).exists())throw new Dt(t);if(this.symlinkStore[t]){let r=await C(t).stat();return _a({name:r.name,url:t,isFile:!1,isDirectory:!1,isLink:!0,size:0,modifiedDate:r.modifiedDate,canRead:!0,canWrite:!0})}return _a(await C(t).stat())}catch(r){throw console.error("error in lstat : ",r),r}}async symlink(t,r){try{r=mt(r),console.info("fs - symlink, path: "+r+" target: ",t),this.symlinkStore[r]=t,await this._saveSymlinks(),await this.writeFile(r,"SYMLINK_PLACEHOLDER")}catch(i){throw console.error("error in symlink : ",i),i}}async readlink(t){try{if(t=mt(t),console.info("fs - readlink, path: ",t),!await C(t).exists())throw new Dt(t);return this.symlinkStore[t]}catch(r){throw console.error("error in readlink : ",r),r}}},ya=class{constructor(){let t=new ga;this.fs=new Lf.default("myfs",{backend:t})}async init(){editorManager.editor.commands.addCommand({name:"clone repo",exec:this.cloneRepo.bind(this)}),editorManager.editor.commands.addCommand({name:"git actions",exec:this.gitActions.bind(this)})}async cloneRepo(){try{if(!await acode.require("prompt")("Enter the git url","https://github.com/isomorphic-git/lightning-fs","text"))return;await C(window.DATA_STORAGE+"test").exists()||await this.fs.promises.mkdir(window.DATA_STORAGE+"test"),await Nf({fs:this.fs.promises,http:ma,dir:window.DATA_STORAGE+"test",corsProxy:"https://cors.isomorphic-git.org",url:"https://github.com/isomorphic-git/lightning-fs",depth:1,onMessage:console.log}),console.log("done")}catch(t){console.log("Error cloning: ",t)}}async gitActions(){try{switch(await acode.require("select")("Git action",["init","add","commit","log"])){case"init":await Pf({fs:this.fs.promises,http:ma,dir:window.DATA_STORAGE+"test"}),console.log("done init\u{1F44D} ");break;case"add":await C(window.DATA_STORAGE+"test").createFile("test.txt","hello"),await Af({fs:this.fs.promises,dir:window.DATA_STORAGE+"test",filepath:"test.txt"}),console.log("done adding ");break;case"commit":let i=await Uf({fs:this.fs.promises,dir:window.DATA_STORAGE+"test",author:{name:"Mr. Test",email:"mrtest@example.com"},message:"Added the test.txt file"});console.log("commited",i);break;case"log":let n=await zf({fs:this.fs.promises,dir:window.DATA_STORAGE+"test",depth:5});console.log("logs",n);break}}catch(t){console.log("error in git action: ",t)}}async destroy(){editorManager.editor.commands.removeCommand("clone repo"),editorManager.editor.commands.removeCommand("git actions")}};if(window.acode){let e=new ya;acode.setPluginInit(Pi.id,(t,r,{cacheFileUrl:i,cacheFile:n})=>{t.endsWith("/")||(t+="/"),e.baseUrl=t,e.init(r,n,i)}),acode.setPluginUnmount(Pi.id,()=>{e.destroy()})}})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

crc-32/crc32.js:
  (*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com *)
*/
